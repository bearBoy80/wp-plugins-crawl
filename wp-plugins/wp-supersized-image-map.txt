{"name":"WP Supersized Image Map","slug":"wp-supersized-image-map","version":"1.0","author":"<a href=\"http:\/\/joelrocha.com\">Joel Rocha<\/a>","author_profile":"https:\/\/profiles.wordpress.org\/another13\/","contributors":{"another13":{"profile":"https:\/\/profiles.wordpress.org\/another13\/","avatar":"https:\/\/secure.gravatar.com\/avatar\/89bee2fea26c993504d6caad1aedde00?s=96&d=monsterid&r=g","display_name":"another13"}},"requires":"3.0","tested":"3.3.2","requires_php":false,"requires_plugins":[],"rating":60,"ratings":{"5":1,"4":0,"3":0,"2":0,"1":1},"num_ratings":2,"support_threads":0,"support_threads_resolved":0,"active_installs":0,"last_updated":"2012-09-10 9:23pm GMT","added":"2012-09-10","homepage":"http:\/\/joelrocha.com","sections":{"description":"<p>It&#8217;s easy to create an image map, right? But, what you do when you want your background to be full screen? And you need to set some images above.<\/p>\n<p>Step 1: Get jQuery (can be done here: <a href=\"http:\/\/docs.jquery.com\/Downloading_jQuery\" rel=\"nofollow ugc\">http:\/\/jquery.com<\/a>). Now a days you use it to everything, we can&#8217;t live without it.<\/p>\n<p>Step 2: If you Google it, you will find some scripts that will help you define a full screen background. I used supersized, that can be download here: <a href=\"http:\/\/www.buildinternet.com\/project\/supersized\/\" rel=\"nofollow ugc\">http:\/\/www.buildinternet.com\/project\/supersized\/<\/a><\/p>\n<p>Why supersized? In my case, I need my background to be full screen and to act like a slideshow.<\/p>\n<p>Step 2.2: Important options. Set &#8220;autoplay: 0&#8221;, the image only changes on button click. Set &#8220;horizontal_center: 1&#8221;, to set the image at the center of the browser. Set a title in a descending order.<\/p>\n<p>I set a title to know what hotspots I need to show.<\/p>\n<p>[js]   jQuery(function($){<\/p>\n<pre><code>$.supersized({      autoplay: 0, \/\/Only plays on button click     horizontal_center: 1, \/\/Defines the image at the center    \/\/ Functionality     slide_interval: 3000,       \/\/ Length between transitions     transition: 1,          \/\/ 0-None, 1-Fade, 2-Slide Top, 3-Slide Right, 4-Slide Bottom, 5-Slide Left, 6-Carousel Right, 7-Carousel Left     transition_speed: 3000,     \/\/ Speed of transition      \/\/ Components                           \n    slide_links: 'blank',   \/\/ Individual links for each slide (Options: false, 'number', 'name', 'blank')     slides: [           \/\/ Slideshow Images     {image: 'images\/backgrounds\/Frato-795531.jpg', title: 'hotspots_14', thumb: 'images\/thumb\/ambi_795531.jpg'},     {image: 'images\/backgrounds\/Frato-794891.jpg', title: 'hotspots_13', thumb: 'images\/thumb\/ambi_794891.jpg'} \n  ],    \/\/ Theme Options             \n    progress_bar:   0,          \/\/ Timer for each slide                         \n    mouse_scrub: 0  }); \n<\/code><\/pre>\n<p>}); [\/js]<\/p>\n<p>You can see more options on the plugin page.<\/p>\n<p>Optinal Step 2.3: As you can see, I set some thumbnails with mouse event. To do this, you need to set the &#8220;thumb:&#8221; options of the supersized configurations.<\/p>\n<p>Then you set the HTML. [html]<\/p>\n<p>[\/html]<\/p>\n<p>And the css. I set it on the supersized.shutter.css<\/p>\n<p>[css]<\/p>\n<p> thumb-tray-wrapper{width:452px; height:60px; position:absolute; text-align:center; bottom:58px!important;  <\/p>\n<p>left:50%; z-index:3000; padding:0 0 0 32px; margin:0 0 0 -250px;}<\/p>\n<p> thumb-tray{overflow:hidden; width:427px; height:59px; padding:0;}  <\/p>\n<p>ul#thumb-list{width:1500px !important; display:inline-block; list-style:none; position:relative; left:0px; padding:0 0px;}<\/p>\n<p>ul#thumb-list li{list-style:none; background:none; display:inline; width:91px; height:46px; overflow:hidden; float:left; margin:7px 7px; padding:0; display:block !important;}<\/p>\n<p> thumb-back{left:0; background: url(&#8216;..\/img\/btn_play.png&#8217;) no-repeat 0 0;}  thumb-forward{right:0; background:url(&#8216;..\/img\/btn_play.png&#8217;) no-repeat 100% 0;}  <\/p>\n<p>[\/css]<\/p>\n<p>Step 3: You need to do some changes in supersized.shutter.js.<\/p>\n<p>Befone any image transition, we hide the hotspots, so the user don&#8217;t see it moving.<\/p>\n<p>[js] supersized.shutter.js beforeAnimation : function(direction){<\/p>\n<p>if (api.options.progress_bar &amp;&amp; !vars.is_paused) $(vars.progress_bar).stop().animate({left : -$(window).width()}, 0 );<\/p>\n<p>\/* Update Fields   &#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;-*\/   \/\/ Update slide caption   if ($(vars.slide_caption).length){     (api.getField(&#8216;title&#8217;)) ? $(vars.slide_caption).html(api.getField(&#8216;title&#8217;)) : $(vars.slide_caption).html(&#8221;);   }<\/p>\n<p>\/\/ Update slide number   if (vars.slide_current.length){<\/p>\n<pre><code>  $(vars.slide_current).html(vars.current_slide + 1);    \/* ADD THIS CODE *\/   $(\".image_map\").css(\"display\", \"none\");   $(\".image_map\").css(\"visibility\", \"hidden\");   \/* END ADD THIS CODE *\/ \n<\/code><\/pre>\n<p>} [\/js]<\/p>\n<p>Step 4 This step is where the magic happens.<\/p>\n<p>What I do is to get the width, height, top and left of the image. Then, I calculate the center of the image. Transform the negative numbers to positive. Move all the hotspots to the center of the image. Then get the distance from the center defined in percentage in the html link, like ?top=&#8221;1%&#8221;? and ?left=&#8221;28%&#8221;?.<\/p>\n<p>To calculate the distance, I set the percentage from the center and calculate that percentage in pixels. Example:   Image width = 400px   Image height = 400px   Image center vertical = 200px   Image center horizontal = 200px<\/p>\n<p>Horizontal Percentage Distance from center = 20%   Horizontal Distance from center in pixels = Image width &#8211; Percentage Distance = 400px-20% = 80px<\/p>\n<p>So, the hotspots is positioned 80px from the center.<\/p>\n<p>After that, you need to see if the hotspot is position to the left or to the right. To the left you set a negative percentage, to the right, you set it positive.<\/p>\n<p>At this point all the hotspots are at the center of the image. Then you position all the hotpots assigning the calculated value to the margin.<\/p>\n<p>Example:   Horizontal Distance from center in pixels = 80px   Margin-left: -80px<\/p>\n<p>You get the current image title to know what hotspots to show and it is good to go.<\/p>\n<p>Step 4.1: Set up the hotspots. As I said above, I define the top and the left.<\/p>\n<p>[html]<\/p>\n<p>    <a href=\"popup.html\" title=\"Product\" rel=\"nofollow ugc\"><\/a><br \/>\n  <a href=\"popup.html\" title=\"Product\" rel=\"nofollow ugc\"><\/a><br \/>\n  <a href=\"popup.html\" title=\"Product\" rel=\"nofollow ugc\"><\/a><br \/>\n  <a href=\"popup.html\" title=\"Product\" rel=\"nofollow ugc\"><\/a><br \/>\n  <a href=\"popup.html\" title=\"Product\" rel=\"nofollow ugc\"><\/a><br \/>\n  <a href=\"popup.html\" title=\"Product\" rel=\"nofollow ugc\"><\/a><br \/>\n  <a href=\"popup.html\" title=\"Product\" rel=\"nofollow ugc\"><\/a><br \/>\n  <a href=\"popup.html\" title=\"Product\" rel=\"nofollow ugc\"><\/a><\/p>\n<p>[\/html]<\/p>\n<p>[css] body, html{margin:0; padding:0; overflow:hidden;} .image_map{width:100%; height:100%; z-index:2000; position:absolute; display:none;} .image_map a{position:absolute; z-index:9000; width:20px; height:20px; background:url(&#8216;..\/images\/icons\/icon_yellow.png&#8217;) center center no-repeat;} [\/css]<\/p>\n<p>Step 4.2 Still in the supersized.shutter.js file. After the image transition you calculate the sizes, positions, move and show the right hotspots.<\/p>\n<p>[js] supersized.shutter.js \/* After Slide Transition &#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;&#8212;-*\/ afterAnimation : function(){     if (api.options.progress_bar &amp;&amp; !vars.is_paused) theme.progressBar();   \/\/  Start progress bar<\/p>\n<pre><code>\/* ADD THIS CODE *\/ \/* HOTSPOTS *\/ var imageId = \"#supersized .activeslide img\";     \n \/\/Image style var style = $(imageId).attr(\"style\"); var partsArray = style.split(':');  var w = 0; \/\/width var h = 0; \/\/height var t = 0; \/\/top var l = 0; \/\/left  var temp = 0; var partsStyle = style.split(' ');  for(var i=0; i&lt;partsStyle.length; i++) {    temp = parseInt(partsStyle[i+1]);    if(partsStyle[i]==\"width:\") w = temp; \n  else if(partsStyle[i]==\"height:\") h = temp; \n  else if(partsStyle[i]==\"top:\") t = temp;   else if(partsStyle[i]==\"left:\") l = temp; \n }  \/\/Calculate center var dif_w = Math.round(w \/ 2); var dif_h = Math.round(h \/ 2);  \/\/Negative to positive var newL = Math.abs(l); var newDifW = dif_w - newL;  var newT = Math.abs(t); var newDifH = dif_h - newT;  \/\/Move to center $('.image_map a').css('left', function(i, v) { return newDifW+\"px\"; }); $('.image_map a').css('top', function(i, v) { return newDifH+\"px\"; });     \n \/\/Get top and left $('.image_map a').css('margin-top', function(i, v) {    var marginTop = $(this).attr('top');    var newMTP = Math.abs(parseInt(marginTop));    var newMT = h * (newMTP \/ 100);    if(parseInt(marginTop) &gt; 0) return newMT+\"px\";   else return \"-\"+newMT+\"px\";   \n });  $('.image_map a').css('margin-left', function(i, v) {    var marginLeft = $(this).attr('left');    var newMLP = Math.abs(parseInt(marginLeft));    var newML = w * (newMLP \/ 100);    if(parseInt(marginLeft) &gt; 0) return newML+\"px\";   else return \"-\"+newML+\"px\";  }); \/* END HOTSPOTS *\/  var next_map = \"#\" + api.getField('title'); $(next_map).css(\"display\", \"inline\"); $(next_map).css(\"visibility\", \"visible\"); <\/code><\/pre>\n<p>\/* END ADD THIS CODE *\/<\/p>\n<p>}, [\/js]<\/p>\n<p>Step 5: When the browser is resized the hotspots are hidden and the &#8220;show hotspots&#8221; button changes. So, when the user clicks to show the hotspots, they are positioned to the right place.<\/p>\n<p>[js] $(window).resize(function() {   $(&#8216;#show&#8217;).html(&#8220;show hotspots&#8221;);   $(&#8216;#show&#8217;).addClass(&#8220;show&#8221;);   $(&#8216;#show&#8217;).removeClass(&#8220;hide&#8221;);   $(&#8220;.image_map&#8221;).css(&#8220;display&#8221;, &#8220;none&#8221;);   $(&#8220;.image_map&#8221;).css(&#8220;visibility&#8221;, &#8220;visible&#8221;);<br \/>\n}); [\/js]<\/p>\n<p>Step 5.2: Set a button to show or hide the hotspots. [js] $(&#8216;#show&#8217;).click(function() {   var state = $(this).attr(&#8216;class&#8217;);   if(state==&#8221;show&#8221;) {     repositionHotspots(); \/\/function that position the hotspots     $(this).html(&#8220;hide hotspots&#8221;);     $(this).addClass(&#8220;hide&#8221;);     $(this).removeClass(&#8220;show&#8221;);<br \/>\n    var next_map = &#8220;#&#8221; + api.getField(&#8216;title&#8217;); \/\/What hotpots will be show next &#8211; This fucntion comes with supersized<br \/>\n    $(next_map).css(&#8220;display&#8221;, &#8220;inline&#8221;);     $(next_map).css(&#8220;visibility&#8221;, &#8220;visible&#8221;);<br \/>\n  } else {<br \/>\n    $(this).html(&#8220;show hotspots&#8221;);     $(this).addClass(&#8220;show&#8221;);     $(this).removeClass(&#8220;hide&#8221;);     $(&#8220;.image_map&#8221;).css(&#8220;display&#8221;, &#8220;none&#8221;);     $(&#8220;.image_map&#8221;).css(&#8220;visibility&#8221;, &#8220;hidden&#8221;);   } }); [\/js]<\/p>\n<p>Opticional Steps:<\/p>\n<p>This steps were made so the user have a better experience when surfing the website.<\/p>\n<p>Show a tooltip with the name of the product. From here: <a href=\"http:\/\/docs.jquery.com\/Plugins\/Tooltip\" rel=\"nofollow ugc\">http:\/\/docs.jquery.com\/Plugins\/Tooltip<\/a><br \/>\n[js] $(&#8216;.image_map a&#8217;).tooltip({<br \/>\n    track: true,<br \/>\n    delay: 0,<br \/>\n    showURL: false,<br \/>\n    showBody: &#8221; &#8211; &#8220;,<br \/>\n    fade: 250<br \/>\n}); [\/js]<\/p>\n<p>Open a colorbox popup when click on the hotspot. From here: <a href=\"http:\/\/colorpowered.com\/colorbox\" rel=\"nofollow ugc\">http:\/\/colorpowered.com\/colorbox<\/a><br \/>\n[js] $(&#8220;.image_map a&#8221;).colorbox({   iframe:true,<br \/>\n  scrolling:false,<br \/>\n  innerWidth:&#8221;750px&#8221;,<br \/>\n  innerHeight:&#8221;450px&#8221; }); [\/js]<\/p>\n","installation":"<ol>\n<li>Download the plugin<\/li>\n<li>Upload this plugin into your wp-content\/plugins directory<\/li>\n<li>Activate the plugin at the plugin administration page<\/li>\n<\/ol>\n","faq":"<h4>Shortcode?<\/h4>\n<p>show_btnshow (true\/false) and show_thumbtray(true\/false).<\/p>\n","changelog":"<h4>1.0<\/h4>\n<ul>\n<li>First version.<\/li>\n<\/ul>\n","screenshots":"<ol><li><a href=\"https:\/\/ps.w.org\/wp-supersized-image-map\/trunk\/screenshot-1.jpg?rev=1444699\"><img src=\"https:\/\/ps.w.org\/wp-supersized-image-map\/trunk\/screenshot-1.jpg?rev=1444699\" alt=\"\/tags\/1.0\/screenshot-1.jpg\"><\/a><p>\/tags\/1.0\/screenshot-1.jpg<\/p><\/li><\/ol>","reviews":""},"download_link":"https:\/\/downloads.wordpress.org\/plugin\/wp-supersized-image-map.1.0.zip","screenshots":{"1":{"src":"https:\/\/ps.w.org\/wp-supersized-image-map\/trunk\/screenshot-1.jpg?rev=1444699","caption":"\/tags\/1.0\/screenshot-1.jpg"}},"tags":{"image-map":"Image Map","imamap":"imamap","supersized":"supersized"},"versions":{"1.0":"https:\/\/downloads.wordpress.org\/plugin\/wp-supersized-image-map.1.0.zip","trunk":"https:\/\/downloads.wordpress.org\/plugin\/wp-supersized-image-map.zip"},"donate_link":"http:\/\/joelrocha.com","banners":{"low":"https:\/\/ps.w.org\/wp-supersized-image-map\/assets\/banner-772x250.jpg?rev=597154","high":false}}