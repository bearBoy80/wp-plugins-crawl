{"name":"bShare \u5206\u4eab","slug":"17fav-bookmark-share","version":"4.2.0","author":"<a href=\"http:\/\/www.bshare.cn\">Buzzinate, Denis<\/a>","author_profile":"https:\/\/profiles.wordpress.org\/denishua\/","contributors":{"buzzinate":{"profile":"https:\/\/profiles.wordpress.org\/buzzinate\/","avatar":"https:\/\/secure.gravatar.com\/avatar\/8d23ec50c9d90e84205edc2896536219?s=96&d=monsterid&r=g","display_name":""}},"requires":"2.5","tested":"3.1.0","requires_php":false,"requires_plugins":[],"rating":80,"ratings":{"5":0,"4":1,"3":0,"2":0,"1":0},"num_ratings":1,"support_threads":0,"support_threads_resolved":0,"active_installs":50,"last_updated":"2011-03-31 10:13am GMT","added":"2008-03-31","homepage":"http:\/\/www.bshare.cn\/wordpressRegister","sections":{"description":"<p>\u6570\u4ee5\u4e07\u8ba1\u7684\u5206\u4eab\uff0c\u6e90\u81ea\u4e00\u4e2a\u7b80\u5355\u7684\u6309\u94ae\uff0c <a href=\"http:\/\/www.bshare.cn\/\" rel=\"nofollow ugc\">bShare \u5206\u4eab<\/a> \u662f\u4e00\u4e2a\u5f3a\u5927\u7684\u7f51\u9875\u5206\u4eab\u63d2\u4ef6\u5de5\u5177\uff0c\u60a8\u7684\u8bfb\u8005\u53ef\u4ee5\u5c06\u60a8\u7f51\u7ad9\u4e0a\u7cbe\u91c7\u7684\u5185\u5bb9\u5feb\u901f\u5206\u4eab\u3001\u8f6c\u8d34\u5230\u793e\u7fa4\u7f51\u7edc\u4e0a\u3002<\/p>\n","installation":"<ol>\n<li>\u4e0a\u4f20bshare\u6587\u4ef6\u5939\uff08\u5305\u62ec\u4e00\u4e2a.php\u6587\u4ef6\u53ca\u4e00\u4e2a.txt\u6587\u4ef6\uff09\u5230&#8217;\/wp-content\/plugins\/&#8217;\u76ee\u5f55\u4e0b\uff0c\u7136\u540e\u5728WordPress\u540e\u53f0\u63d2\u4ef6\u83dc\u5355\u4e0b\u6fc0\u6d3b\u3002<\/li>\n<li>\u8be5\u63d2\u4ef6\u81ea\u52a8\u5728\u5728\u65e5\u5fd7\u548c\u9759\u6001\u9875\u9762\u6b63\u6587\u540e\u6dfb\u52a0 bShare \u6309\u94ae\uff0c\u5982\u679c\u4f60\u60f3\u5728\u5176\u4ed6\u9875\u9762\u6dfb\u52a0\u6309\u94ae\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528Widget\u6765\u6dfb\u52a0\u3002<\/li>\n<li>\u5982\u679c\u4f60\u60f3\u8981\u5bf9bShare\u6309\u94ae\u548c\u63d2\u4ef6\u8fdb\u884c\u81ea\u5b9a\u4e49\u6216\u8005\u67e5\u770b\u6570\u636e\uff0c\u8bf7\u5230http:\/\/www.bshare.cn\/wordpressRegister\u6ce8\u518c\u5e76\u83b7\u53d6\u4f60\u7684\u5d4c\u5165JavaScript\u4ee3\u7801\uff0c\u7136\u540e\u5728Wordpress\u540e\u53f0\u7684setting-&gt;bShare\u5206\u4eab\u4e2d\u5c06\u4f60\u7684\u4ee3\u7801\u586b\u5165\u6587\u672c\u6846\u4e2d\u5e76\u63d0\u4ea4\u3002<\/li>\n<\/ol>\n","reviews":"<div class=\"review\">\n\t<div class=\"review-head\">\n\t\t<div class=\"reviewer-info\">\n\t\t\t<div class=\"review-title-section\">\n\t\t\t\t<h4 class=\"review-title\">Fail to save the change of &quot;\u5728Feed\u4e2d\u52a0\u5165bShare&quot; and &quot;\u5728\u975e\u535a\u5ba2\u9875\u9762\u52a0\u5165bSha<\/h4>\n\t\t\t\t<div class=\"star-rating\">\n\t\t\t\t<div class=\"wporg-ratings\" aria-label=\"4 out of 5 stars\" data-title-template=\"%s out of 5 stars\" data-rating=\"4\" style=\"color:#ffb900;\"><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-empty\"><\/span><\/div>\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t\t<p class=\"reviewer\">\n\t\t\t\tBy <a href=\"https:\/\/profiles.wordpress.org\/hailong\/\"><img alt='' src='https:\/\/secure.gravatar.com\/avatar\/450431d3ac659f436bc614b079e14de9?s=16&#038;d=monsterid&#038;r=g' srcset='https:\/\/secure.gravatar.com\/avatar\/450431d3ac659f436bc614b079e14de9?s=32&#038;d=monsterid&#038;r=g 2x' class='avatar avatar-16 photo' height='16' width='16' loading='lazy' decoding='async'\/><\/a><a href=\"https:\/\/profiles.wordpress.org\/hailong\/\" class=\"reviewer-name\">hailong<\/a> on <span class=\"review-date\">September 3, 2016<\/span>\t\t\t<\/p>\n\t\t<\/div>\n\t<\/div>\n\t<div class=\"review-body\"><p><strong>A bug that the change to \"\u5728Feed\u4e2d\u52a0\u5165bShare\" or \"\u5728\u975e\u535a\u5ba2\u9875\u9762\u52a0\u5165bShare\" option can not be saved.<\/strong><\/p>\n<p>I was directed to this plugin from the bShare website, it works well on the blog post view page. While I noticed there is bug as described above, if you are also struggling with this issue, please refer to my fix here:<\/p>\n<blockquote><p>\/17fav-bookmark-share\/bookmark-share.php<\/p>\n<\/blockquote>\n<pre><code>&lt;?php\n\/*\nPlugin Name: bShare \u5206\u4eab\nPlugin URI: http:\/\/www.bshare.cn\/wordpressRegister\nDescription: \u6570\u4ee5\u4e07\u8ba1\u7684\u5206\u4eab\uff0c\u6e90\u81ea\u4e00\u4e2a\u7b80\u5355\u7684\u6309\u94ae\uff0c &lt;a href=&quot;http:\/\/www.bshare.cn\/&quot;&gt;bShare \u5206\u4eab&lt;\/a&gt; \u662f\u4e00\u4e2a\u5f3a\u5927\u7684\u7f51\u9875\u5206\u4eab\u63d2\u4ef6\u5de5\u5177\uff0c\u60a8\u7684\u8bfb\u8005\u53ef\u4ee5\u5c06\u60a8\u7f51\u7ad9\u4e0a\u7cbe\u91c7\u7684\u5185\u5bb9\u5feb\u901f\u5206\u4eab\u3001\u8f6c\u8d34\u5230\u793e\u7fa4\u7f51\u7edc\u4e0a\u3002&lt;a href=&quot;options-general.php?page=bookmark-share.php&quot;&gt;\u70b9\u51fb\u8fd9\u91cc\u8fdb\u884c\u914d\u7f6e&lt;\/a&gt;\u3002\nVersion: 4.2.0\nAuthor: Buzzinate, Denis\nAuthor URI: http:\/\/www.bshare.cn\n*\/\n\nload_plugin_textdomain(&#039;bshare&#039;);\nif (get_option(&quot;bshare_code&quot;) == &quot;&quot;) {\n    update_option(&quot;bshare_code&quot;, &#039;&lt;a class=&quot;bshareDiv&quot; target=&quot;_blank&quot; href=&quot;http:\/\/www.bshare.cn\/share&quot;&gt;\u5206\u4eab&amp;\u6536\u85cf&lt;\/a&gt;&lt;script language=&quot;javascript&quot; type=&quot;text\/javascript&quot; src=&quot;http:\/\/www.bshare.cn\/button.js&quot;&gt;&lt;\/script&gt;&#039;);\n}\nif (get_option(&quot;bshare_pos&quot;) == &quot;&quot;) {\n    update_option(&quot;bshare_pos&quot;, &quot;down&quot;);\n}\n\nadd_filter(&#039;the_content&#039;, &#039;bshare&#039;);\nfunction bshare($content){\n    if(is_single() || (is_page() &amp;&amp; get_option(&quot;bshare_inPage&quot;) != &quot;false&quot;)) {\n        if (get_option(&quot;bshare_pos&quot;) == &quot;up&quot;) {\n            $content = &#039;&lt;div style=&quot;margin-bottom:10px&quot;&gt;&#039;.htmlspecialchars_decode(get_option(&quot;bshare_code&quot;)).&#039;&lt;\/div&gt;&#039;.$content;\n        } else {\n            $content = $content.&#039;&lt;div style=&quot;margin-bottom:10px&quot;&gt;&#039;.htmlspecialchars_decode(get_option(&quot;bshare_code&quot;)).&#039;&lt;\/div&gt;&#039;;\n        }\n    } else if(is_feed() &amp;&amp; get_option(&quot;bshare_inFeed&quot;) != &quot;false&quot;) {\n        global $post;\n        $bshare_feed_code = &#039;&lt;p&gt;&lt;a href=&quot;http:\/\/www.bshare.cn\/share?url=&#039;.urlencode(get_permalink($post-&gt;ID)).&#039;&amp;title=&#039;.urlencode($post-&gt;post_title).&#039;&quot; title=&quot;\u7528bShare\u5206\u4eab\u6216\u6536\u85cf\u672c\u6587&quot;&gt;&lt;img src=&quot;http:\/\/static.bshare.cn\/frame\/images\/button_custom1-zh.gif&quot; alt=&quot;\u7528bShare\u5206\u4eab\u6216\u6536\u85cf\u672c\u6587&quot; \/&gt;&lt;\/a&gt;&lt;\/p&gt;&#039;;\n        $content = $content.$bshare_feed_code;\n    }\n    return $content;\n}\n\nadd_action(&#039;plugins_loaded&#039;, &#039;widget_sidebar_bshare&#039;);\nfunction widget_sidebar_bshare() {\n    function widget_bshare($args) {\n        if(is_single()||is_page()) return;\n        extract($args);\n        echo $before_widget;\n        echo $before_title . __(&#039;bShare\u5206\u4eab&#039;, &#039;bshare&#039;) . $after_title;\n\t    echo &#039;&lt;div style=&quot;margin:10px 0&quot;&gt;&#039;;\n\t    echo htmlspecialchars_decode(get_option(&quot;bshare_code&quot;)) . &#039;&lt;\/div&gt;&#039;;\n        echo $after_widget;\n    }\n    register_sidebar_widget(__(&#039;bShare\u5206\u4eab&#039;, &#039;bshare&#039;), &#039;widget_bshare&#039;);\n}\n\nadd_action(&#039;admin_menu&#039;, &#039;bshare_menu&#039;);\nfunction bshare_menu() {\n    add_options_page(__(&#039;bShare\u9009\u9879&#039;, &#039;bshare&#039;), __(&#039;bShare\u5206\u4eab&#039;, &#039;bshare&#039;), 8, basename(__FILE__), &#039;bshare_options&#039;);\n}\nfunction bshare_options() {\n    if (getIsPostRequest()) {\n        if (isset($_POST[&#039;bshare_code&#039;])) {\n            $code = stripslashes_deep($_POST[&#039;bshare_code&#039;]);\n            update_option(&quot;bshare_code&quot;, htmlspecialchars($code));\n        }\n\n        if ($_POST[&#039;bshare_infeed&#039;] != &quot;true&quot;) {\n            update_option(&quot;bshare_infeed&quot;, &quot;false&quot;);\n        } else {\n            update_option(&quot;bshare_infeed&quot;, &quot;true&quot;);\n        }\n\n        if ($_POST[&#039;bshare_inpage&#039;] != &quot;true&quot;) {\n            update_option(&quot;bshare_inpage&quot;, &quot;false&quot;);\n        } else {\n            update_option(&quot;bshare_inpage&quot;, &quot;true&quot;);\n        }\n\n        if (isset($_POST[&#039;bshare_pos&#039;])) {\n            update_option(&quot;bshare_pos&quot;, $_POST[&#039;bshare_pos&#039;]);\n        }\n    }\n\n    echo &#039;&lt;div class=&quot;wrap&quot;&gt;&#039;;\n    echo &#039;&lt;form name=&quot;bshare_form&quot; method=&quot;post&quot; action=&quot;&quot;&gt;&#039;;\n    echo &#039;&lt;p&gt;\u8bf7\u5c06\u60a8\u5728bshare.cn\u83b7\u53d6\u7684\u5d4c\u5165\u4ee3\u7801\u590d\u5236\u81f3\u6b64\u5904\uff1a&lt;\/p&gt;&#039;;\n    echo &#039;&lt;p&gt;&lt;textarea style=&quot;height:100px;width:600px&quot; name=&quot;bshare_code&quot;&gt;&#039;.get_option(&quot;bshare_code&quot;).&#039;&lt;\/textarea&gt;&lt;\/p&gt;&#039;;\n    echo &#039;&lt;p&gt;&lt;input type=&quot;checkbox&quot; name=&quot;bshare_infeed&quot; value=&quot;true&quot; &#039; . getChecked(get_option(&quot;bshare_infeed&quot;)) . &#039;&gt;&lt;\/input&gt;&amp;nbsp\u5728Feed\u4e2d\u52a0\u5165bShare&lt;\/p&gt;&#039;;\n    echo &#039;&lt;p&gt;&lt;input type=&quot;checkbox&quot; name=&quot;bshare_inpage&quot; value=&quot;true&quot; &#039; . getChecked(get_option(&quot;bshare_inpage&quot;)) . &#039;&gt;&lt;\/input&gt;&amp;nbsp\u5728\u975e\u535a\u5ba2\u9875\u9762\u52a0\u5165bShare&lt;\/p&gt;&#039;;\n    echo &#039;&lt;p&gt;bShare\u6309\u94ae\u663e\u793a\u4f4d\u7f6e\uff08\u5bf9\u975e\u6d6e\u52a8\u5f0f\u6309\u94ae\u6709\u6548\uff09\uff1a&lt;br\/&gt;&lt;input type=&quot;radio&quot; name=&quot;bshare_pos&quot; value=&quot;up&quot; &#039; . getRadioChecked(get_option(&quot;bshare_pos&quot;), &#039;up&#039;) . &#039;&gt;&amp;nbsp\u6587\u7ae0\u4e0a\u65b9&lt;br\/&gt;&lt;input type=&quot;radio&quot; name=&quot;bshare_pos&quot; value=&quot;down&quot; &#039; . getRadioChecked(get_option(&quot;bshare_pos&quot;), &#039;down&#039;) . &#039;&gt;&amp;nbsp\u6587\u7ae0\u4e0b\u65b9&lt;\/p&gt;&#039;;\n\n    echo &#039;&lt;p class=&quot;submit&quot;&gt;&lt;input type=&quot;submit&quot; value=&quot;submit&quot;\/&gt;&lt;\/p&gt;&#039;;\n    echo &#039;&lt;\/form&gt;&#039;;\n    echo &#039;&lt;\/div&gt;&#039;;\n}\n\nfunction getChecked($val) {\n    if ($val == &quot;false&quot;) {\n        return &#039;&#039;;\n    } else {\n        return &#039;checked=&quot;checked&quot;&#039;;\n    }\n}\nfunction getRadioChecked($val, $cur) {\n    if ($val == $cur) {\n        return &#039;checked=&quot;checked&quot;&#039;;\n    } else {\n        return &#039;&#039;;\n    }\n}\n\n\/**\n * Returns whether this is a POST request.\n * @return boolean whether this is a POST request.\n *\/\nfunction getIsPostRequest() {\n    return isset($_SERVER[&#039;REQUEST_METHOD&#039;]) &amp;&amp; !strcasecmp($_SERVER[&#039;REQUEST_METHOD&#039;],&#039;POST&#039;);\n}\n\n?&gt;<\/code><\/pre>\n<\/div>\n<\/div>\n"},"download_link":"https:\/\/downloads.wordpress.org\/plugin\/17fav-bookmark-share.zip","screenshots":[],"tags":{"bookmark":"Bookmark","share":"share","%e5%88%86%e4%ba%ab":"\u5206\u4eab","%e6%94%b6%e8%97%8f":"\u6536\u85cf","%e4%b9%a6%e7%ad%be":"\u4e66\u7b7e"},"versions":{"1.0":"https:\/\/downloads.wordpress.org\/plugin\/17fav-bookmark-share.1.0.zip","2.0":"https:\/\/downloads.wordpress.org\/plugin\/17fav-bookmark-share.2.0.zip","3.0":"https:\/\/downloads.wordpress.org\/plugin\/17fav-bookmark-share.3.0.zip","3.0.1":"https:\/\/downloads.wordpress.org\/plugin\/17fav-bookmark-share.3.0.1.zip","3.0.2":"https:\/\/downloads.wordpress.org\/plugin\/17fav-bookmark-share.3.0.2.zip","4.0":"https:\/\/downloads.wordpress.org\/plugin\/17fav-bookmark-share.4.0.zip"},"donate_link":"","banners":[]}