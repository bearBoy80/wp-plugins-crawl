{"name":"Custom Menu Fields","slug":"custom-menu-fields","version":"0.2","author":"<a href=\"http:\/\/bowlhat.net\/\">Dani Llewellyn<\/a>","author_profile":"https:\/\/profiles.wordpress.org\/diddledani\/","contributors":{"diddledani":{"profile":"https:\/\/profiles.wordpress.org\/diddledani\/","avatar":"https:\/\/secure.gravatar.com\/avatar\/d840a405ba33523e6c0fdaec27a58ba7?s=96&d=monsterid&r=g","display_name":"Dani Llewellyn"}},"requires":"3.5","tested":"3.7.41","requires_php":false,"requires_plugins":[],"rating":100,"ratings":{"5":2,"4":0,"3":0,"2":0,"1":0},"num_ratings":2,"support_threads":0,"support_threads_resolved":0,"active_installs":50,"last_updated":"2021-09-20 8:50pm GMT","added":"2014-01-28","homepage":"http:\/\/bowlhat.net\/","sections":{"description":"<p>This plugin provides an API which allows the developer of a site to add custom fields on the default menu editor.<\/p>\n<h4>Example Initialisation<\/h4>\n<pre><code>&lt;?php\nadd_action('init', 'menu_excerpt__add_menu_field');\nfunction menu_excerpt__add_menu_field() {\n    if (!is_callable('bh_add_custom_menu_fields'))\n        return;\n\n    bh_add_custom_menu_fields(array(\n        'excerpt' =&gt; array(\n            'description' =&gt; 'Excerpt',\n            'type' =&gt; 'textarea',\n            )));\n}\n?&gt;\n<\/code><\/pre>\n<h4>Accessing the fields<\/h4>\n<p>The easiest way to access the field(s) you&#8217;ve added is to use something along the lines of:<\/p>\n<pre><code>$menu = 'menuName';\n$posts = wp_get_nav_menu_items($menu);\nforeach ($posts as $p) {\n    $myitem = get_post_meta($p-&gt;ID, '_menu_item_youritem', true);\n    \/\/ do with $myitem what you like - it should be a string,\n    \/\/ so the simplest thing is to \"echo\" it\n}\n<\/code><\/pre>\n<p>you can use menu locations to get the menu name if you prefer &#8211; replace the first line above with:<\/p>\n<pre><code>$locations = get_nav_menu_locations();\n$menu = $locations['locationName'];\n<\/code><\/pre>\n<p>menu locations are useful if you like to swap your menus about.<\/p>\n<p>Unfortunately these examples don&#8217;t allow the use of wordpress&#8217; inbuilt menu walkers. To use those you will need to create a custom walker_nav_menu class and access the custom fields with something along the lines of (very stripped down example will need fleshing out for full walker functionality &#8211; there are tutorials on the net for custom nav walkers):<\/p>\n<pre><code>class mywalker extends Walker_Nav_Menu {\n    function start_el(&amp;$output, $item, $depth, $args) {\n        echo $item-&gt;custom_field\n    }\n}\n<\/code><\/pre>\n<p>The important bit here is that the field is placed on the second variable which behaves like an object. the custom_field part is the name you gave your field with dashes replaced with underscores (to allow the name to be used in an accessor).<\/p>\n<h4>NOTE<\/h4>\n<p>This plugin does nothing by itself. It provides an API only.<\/p>\n","installation":"<p>This section describes how to install the plugin and get it working.<\/p>\n<ol>\n<li>Upload the folder from the zip to the <code>\/wp-content\/plugins\/<\/code> directory<\/li>\n<li>Activate the plugin through the &#8216;Plugins&#8217; menu in WordPress<\/li>\n<li>Once activated the API is available in the \u2018init\u2019 and later phases of the WordPress lifecycle.<\/li>\n<\/ol>\n","changelog":"<h4>0.2<\/h4>\n<p>version bump to attempt to rectify auto-update mechanism<\/p>\n<h4>0.1<\/h4>\n<p>first release<\/p>\n","reviews":""},"download_link":"https:\/\/downloads.wordpress.org\/plugin\/custom-menu-fields.0.2.zip","screenshots":[],"tags":{"api":"api","field":"field","fields":"fields","menu":"menu"},"versions":{"0.1":"https:\/\/downloads.wordpress.org\/plugin\/custom-menu-fields.0.1.zip","0.2":"https:\/\/downloads.wordpress.org\/plugin\/custom-menu-fields.0.2.zip","trunk":"https:\/\/downloads.wordpress.org\/plugin\/custom-menu-fields.zip"},"donate_link":"","banners":[]}