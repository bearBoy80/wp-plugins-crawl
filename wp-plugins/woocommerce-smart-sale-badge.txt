{"name":"WooCommerce Smart Sale Badge","slug":"woocommerce-smart-sale-badge","version":"1.1","author":"<a href=\"https:\/\/hugh.blog\/\">Hugh Lashbrooke<\/a>","author_profile":"https:\/\/profiles.wordpress.org\/hlashbrooke\/","contributors":{"hlashbrooke":{"profile":"https:\/\/profiles.wordpress.org\/hlashbrooke\/","avatar":"https:\/\/secure.gravatar.com\/avatar\/51eec74fdf430271ce134e58b811e5b9?s=96&d=monsterid&r=g","display_name":"Hugh Lashbrooke"}},"requires":"4.0","tested":"5.0.20","requires_php":false,"requires_plugins":[],"rating":94,"ratings":{"5":5,"4":0,"3":1,"2":0,"1":0},"num_ratings":6,"support_threads":1,"support_threads_resolved":0,"active_installs":900,"last_updated":"2018-12-05 9:46am GMT","added":"2013-05-10","homepage":"http:\/\/wordpress.org\/plugins\/woocommerce-smart-sale-badge\/","sections":{"description":"<p>&#8220;WooCommerce Smart Sale Badge&#8221; enhances the built-in sale badge by displaying the total saving amount a customer will receive. The plugin works with all the WooCommerce product types &#8211; simple and external products will display a badge that says &#8216;Save $X!&#8217;, while variable and grouped products will display &#8216;Save up to $X!&#8217;.<\/p>\n<p>If you would like a more fully featured sale badge enhancement extension then be sure to check out Sale Flash Pro available for purchase from the WooThemes website: http:\/\/www.woothemes.com\/products\/sale-flash-pro\/ (Sale Flash Pro was not written by me, but because WooCommerce Smart Sale Badge contains a limited feature set of Sale Flash Pro I will not be adding further features to this plugin).<\/p>\n<h3>Usage<\/h3>\n<p>Simply install and activate the plugin and you&#8217;ll be good to go.<\/p>\n","installation":"<p>Installing &#8220;WooCommerce Smart Sale Badge&#8221; can be done either by searching for &#8220;WooCommerce Smart Sale Badge&#8221; via the &#8220;Plugins &gt; Add New&#8221; screen in your WordPress dashboard, or by using the following steps:<\/p>\n<ol>\n<li>Download the plugin via WordPress.org<\/li>\n<li>Upload the ZIP file through the &#8216;Plugins &gt; Add New &gt; Upload&#8217; screen in your WordPress dashboard<\/li>\n<li>Activate the plugin through the &#8216;Plugins&#8217; menu in WordPress<\/li>\n<\/ol>\n","faq":"\n<h4>How do I edit\/translate the text that appears on the badge?<\/h4>\n<p>\n<p>You can edit or translate the text displayed on the badge using the CodeStyling Localization plugin for WordPress.<\/p>\n<\/p>\n<h4>My sale badge isn&#8217;t displaying correctly &#8211; what gives!?<\/h4>\n<p>\n<p>This plugin does not create the sale badge &#8211; that work is done by WooCommerce itself and your theme will handle the styling of the badge. All this plugin does is modify the text that appears on the badge, so if your display is wrong then the issue will be related to your theme and not this plugin.<\/p>\n<\/p>\n\n","changelog":"<h4>1.1<\/h4>\n<ul>\n<li>2014-04-15<\/li>\n<li>[NEW] Adding <code>wc_smart_sale_badge_title<\/code> and <code>wc_smart_sale_badge_price<\/code> filters. Props @danmorton.<\/li>\n<li>[NEW] Adding Russian translation. Props @advokatb.<\/li>\n<li>[NEW] Adding localisation template file.<\/li>\n<\/ul>\n<h4>1.0<\/h4>\n<ul>\n<li>2013-05-10<\/li>\n<li>Initial release!<\/li>\n<\/ul>\n","screenshots":"<ol><li><a href=\"https:\/\/ps.w.org\/woocommerce-smart-sale-badge\/assets\/screenshot-1.png?rev=710743\"><img src=\"https:\/\/ps.w.org\/woocommerce-smart-sale-badge\/assets\/screenshot-1.png?rev=710743\" alt=\"The difference between the default and modified sale badges for simple &amp; external products as displayed in the Twenty Twelve theme.\"><\/a><p>The difference between the default and modified sale badges for simple &amp; external products as displayed in the Twenty Twelve theme.<\/p><\/li><\/ol>","reviews":"<div class=\"review\">\n\t<div class=\"review-head\">\n\t\t<div class=\"reviewer-info\">\n\t\t\t<div class=\"review-title-section\">\n\t\t\t\t<h4 class=\"review-title\">very good<\/h4>\n\t\t\t\t<div class=\"star-rating\">\n\t\t\t\t<div class=\"wporg-ratings\" aria-label=\"5 out of 5 stars\" data-title-template=\"%s out of 5 stars\" data-rating=\"5\" style=\"color:#ffb900;\"><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><\/div>\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t\t<p class=\"reviewer\">\n\t\t\t\tBy <a href=\"https:\/\/profiles.wordpress.org\/abanista\/\"><img alt='' src='https:\/\/secure.gravatar.com\/avatar\/445f86f835a2ed65260c298d55f50e8c?s=16&#038;d=monsterid&#038;r=g' srcset='https:\/\/secure.gravatar.com\/avatar\/445f86f835a2ed65260c298d55f50e8c?s=32&#038;d=monsterid&#038;r=g 2x' class='avatar avatar-16 photo' height='16' width='16' loading='lazy' decoding='async'\/><\/a><a href=\"https:\/\/profiles.wordpress.org\/abanista\/\" class=\"reviewer-name\">iamlaurie <small>(abanista)<\/small><\/a> on <span class=\"review-date\">June 2, 2018<\/span>\t\t\t<\/p>\n\t\t<\/div>\n\t<\/div>\n\t<div class=\"review-body\">Exactly what I was looking for. Was scared that it hasn't been updated in a moment but works just fine<\/div>\n<\/div>\n<div class=\"review\">\n\t<div class=\"review-head\">\n\t\t<div class=\"reviewer-info\">\n\t\t\t<div class=\"review-title-section\">\n\t\t\t\t<h4 class=\"review-title\">sales badge in percent<\/h4>\n\t\t\t\t<div class=\"star-rating\">\n\t\t\t\t<div class=\"wporg-ratings\" aria-label=\"5 out of 5 stars\" data-title-template=\"%s out of 5 stars\" data-rating=\"5\" style=\"color:#ffb900;\"><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><\/div>\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t\t<p class=\"reviewer\">\n\t\t\t\tBy <a href=\"https:\/\/profiles.wordpress.org\/tinto_brass\/\"><img alt='' src='https:\/\/secure.gravatar.com\/avatar\/5e1d345f3e7fcda5150f792b2534e767?s=16&#038;d=monsterid&#038;r=g' srcset='https:\/\/secure.gravatar.com\/avatar\/5e1d345f3e7fcda5150f792b2534e767?s=32&#038;d=monsterid&#038;r=g 2x' class='avatar avatar-16 photo' height='16' width='16' loading='lazy' decoding='async'\/><\/a><a href=\"https:\/\/profiles.wordpress.org\/tinto_brass\/\" class=\"reviewer-name\">tinto_brass<\/a> on <span class=\"review-date\">September 3, 2016<\/span>\t\t\t<\/p>\n\t\t<\/div>\n\t<\/div>\n\t<div class=\"review-body\"><p>this plugin is great! i made small mod to show sale in percent:<\/p>\n<pre><code>&lt;?php\n\nif ( ! defined( &#039;ABSPATH&#039; ) ) exit;\n\nclass WooCommerce_Smart_Sale_Badge {\n\tprivate $dir;\n\tprivate $file;\n\n\tpublic function __construct( $file ) {\n\t\t$this-&gt;dir = dirname( $file );\n\t\t$this-&gt;file = $file;\n\n\t\t\/\/ Handle localisation\n\t\t$this-&gt;load_plugin_textdomain();\n\t\tadd_action( &#039;init&#039;, array( &amp;$this, &#039;load_localisation&#039; ), 0 );\n\n\t\tadd_filter( &#039;woocommerce_sale_flash&#039;, array( &amp;$this, &#039;badge_sale_amount&#039; ), 10, 3 );\n\t}\n\n\tpublic function badge_sale_amount( $message, $post, $product ) {\n\n\t\t$saving_amount = 0;\n\n\t\tif ( $product-&gt;has_child() ) {\n\n\t\t\t\/\/ Loop through children if this is a variable product\n\t\t\tforeach ( $product-&gt;get_children() as $child_id ) {\n\n\t\t\t\t$regular_price = get_post_meta( $child_id, &#039;_regular_price&#039;, true );\n\t\t\t\t$sale_price = get_post_meta( $child_id, &#039;_sale_price&#039;, true );\n\n\t\t\t\tif( $regular_price != &#039;&#039; &amp;&amp; $sale_price != &#039;&#039; &amp;&amp; $regular_price &gt; $sale_price ) {\n\t\t\t\t\t$new_saving_amount = $regular_price - $sale_price;\n\n\t\t\t\t\t\/\/ Only display the largest saving amount\n\t\t\t\t\tif( $new_saving_amount &gt; $saving_amount ) {\n\t\t\t\t\t\t$saving_amount = $new_saving_amount;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t$button_text = apply_filters(&quot;wc_smart_sale_badge_title&quot;, __( &#039;Do&#039;, &#039;wc_smart_sale_badge&#039; ), $product-&gt;has_child(), $product);\n\n\t\t} else {\n\n\t\t\t\/\/ Fetch prices for simple products\n\t\t\t$regular_price = get_post_meta( $post-&gt;ID, &#039;_regular_price&#039;, true );\n\t\t\t$sale_price = get_post_meta( $post-&gt;ID, &#039;_sale_price&#039;, true );\n\n\t\t\tif( $regular_price != &#039;&#039; &amp;&amp; $sale_price != &#039;&#039; &amp;&amp; $regular_price &gt; $sale_price ) {\n\t\t\t\t$saving_amount = $regular_price - $sale_price;\n\t\t\t}\n\n\t\t\t$button_text = apply_filters(&quot;wc_smart_sale_badge_title&quot;, __( &#039;&#039;, &#039;wc_smart_sale_badge&#039; ), $product-&gt;has_child(), $product);\n\n\t\t}\n\n\t\t\/\/ Only modify badge if saving amount is larger than 0\n\t\tif( $saving_amount &gt; 0 ) {\n\t\t\t$saving_price = woocommerce_price( $saving_amount );\n\t\t\t$percentage = round( ( ( $product-&gt;regular_price - $product-&gt;sale_price ) \/ $product-&gt;regular_price ) * 100 );\n\t\t\t$saving_price_r = apply_filters(&quot;wc_smart_sale_badge_price&quot;, sprintf( __( &#039; %s!&#039;, &#039;wc_smart_sale_badge&#039; ), $saving_price ), $saving_price, $product);\n\t\t\t$message = &#039;&lt;span class=&quot;onsale&quot;&gt;&#039; . $button_text .&#039;-&#039;. $percentage .&#039;%&#039;. &#039;&lt;\/span&gt;&#039;;\n\t\t}\n\n\t\treturn $message;\n\t}\n\n\tpublic function load_localisation() {\n\t\tload_plugin_textdomain( &#039;wc_smart_sale_badge&#039; , false , dirname( plugin_basename( $this-&gt;file ) ) . &#039;\/lang\/&#039; );\n\t}\n\n\tpublic function load_plugin_textdomain() {\n\t    $domain = &#039;wc_smart_sale_badge&#039;;\n\n\t    $locale = apply_filters( &#039;plugin_locale&#039; , get_locale() , $domain );\n\n\t    load_textdomain( $domain , WP_LANG_DIR . &#039;\/&#039; . $domain . &#039;\/&#039; . $domain . &#039;-&#039; . $locale . &#039;.mo&#039; );\n\t    load_plugin_textdomain( $domain , FALSE , dirname( plugin_basename( $this-&gt;file ) ) . &#039;\/lang\/&#039; );\n\t}\n\n}<\/code><\/pre>\n<\/div>\n<\/div>\n"},"download_link":"https:\/\/downloads.wordpress.org\/plugin\/woocommerce-smart-sale-badge.1.1.zip","screenshots":{"1":{"src":"https:\/\/ps.w.org\/woocommerce-smart-sale-badge\/assets\/screenshot-1.png?rev=710743","caption":"The difference between the default and modified sale badges for simple &amp; external products as displayed in the Twenty Twelve theme."}},"tags":{"badge":"badge","discount":"discount","products":"products","sale":"sale","woocommerce":"woocommerce"},"versions":{"1.0":"https:\/\/downloads.wordpress.org\/plugin\/woocommerce-smart-sale-badge.1.0.zip","1.1":"https:\/\/downloads.wordpress.org\/plugin\/woocommerce-smart-sale-badge.1.1.zip","trunk":"https:\/\/downloads.wordpress.org\/plugin\/woocommerce-smart-sale-badge.zip"},"donate_link":"","banners":{"low":"https:\/\/ps.w.org\/woocommerce-smart-sale-badge\/assets\/banner-772x250.png?rev=1042582","high":"https:\/\/ps.w.org\/woocommerce-smart-sale-badge\/assets\/banner-1544x500.png?rev=1042582"}}