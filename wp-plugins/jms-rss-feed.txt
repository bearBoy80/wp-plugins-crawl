{"name":"JMS Rss Feed","slug":"jms-rss-feed","version":"3.5.0","author":"<a href=\"https:\/\/jmsliu.com\/\">James Liu<\/a>","author_profile":"https:\/\/profiles.wordpress.org\/jamesliu-1\/","contributors":{"jamesliu-1":{"profile":"https:\/\/profiles.wordpress.org\/jamesliu-1\/","avatar":"https:\/\/secure.gravatar.com\/avatar\/3cc78d9fb6e958be42870e8405d6a01c?s=96&d=monsterid&r=g","display_name":"James"}},"requires":"4.0.0","tested":"4.9.0","requires_php":false,"requires_plugins":[],"rating":20,"ratings":{"5":0,"4":0,"3":0,"2":0,"1":1},"num_ratings":1,"support_threads":0,"support_threads_resolved":0,"active_installs":40,"last_updated":"2018-03-29 5:08am GMT","added":"2015-01-19","homepage":"https:\/\/jmsliu.com\/products\/jms-rss-feed\/","sections":{"description":"<p>This plugin only does one task, adding your posts&#8217; featured image to the RSS feed in  tag. It will show your full size featured image url in the tag.<\/p>\n","installation":"<ol>\n<li>Upload the plugin to your wp-content\/plugins folder, or use the Plugins &gt; Add New section of your dashboard to search for &#8220;JMS Rss Feed&#8221;<\/li>\n<li>Activate the plugin through the Plugins menu in WordPress<\/li>\n<\/ol>\n","faq":"\n<h4>Installation Instructions<\/h4>\n<p>\n<ol>\n<li>Upload the plugin to your wp-content\/plugins folder, or use the Plugins &gt; Add New section of your dashboard to search for &#8220;JMS Rss Feed&#8221;<\/li>\n<li>Activate the plugin through the Plugins menu in WordPress<\/li>\n<\/ol>\n<\/p>\n<h4>Q1: How to get rss feed from my WordPress website?<\/h4>\n<p>\n<p>If your website is built on WordPress, you can use this type of link to access your website rss feed. For example: <a href=\"https:\/\/jmsliu.com\/feed?page=1\" title=\"RSS Feed URL from jmsliu.com\" rel=\"nofollow ugc\">https:\/\/jmsliu.com\/feed?page=1<\/a><\/p>\n<\/p>\n<h4>Q2: How to get single post content in XML?<\/h4>\n<p>\n<p>Currently, RSS standard doesn&#8217;t define rss for single post. If you really need such feature like loading single post content in XML format, please leave the comment in this plugin page. We will consider to add this feature in this plugin.<\/p>\n<\/p>\n<h4>Q3: What happen if my post doesn&#8217;t have featured image?<\/h4>\n<p>\n<p>In this case, there will no be  tag in your RSS Feed XML.<\/p>\n<\/p>\n<h4>Q4: What does this plugin do?<\/h4>\n<p>\n<p>This plugin adds the featured image of each post to the RSS feed. The featured image full size version url will be added in tag <\/p>\n<\/p>\n<h4>Q5: Where can I see the change?<\/h4>\n<p>\n<p>In your site&#8217;s RSS feed. If you have featured image in your posts, you will find  in your rss feed.<\/p>\n<\/p>\n\n","changelog":"<h4>3.5<\/h4>\n<p>Remove all unnecessary features from the plugin. Now the plugin only has the pure feature: add  tag in RSS Feed XML.<\/p>\n<h4>2.0<\/h4>\n<p>Add customization url in your wordpress to return a plain text of your articles.<\/p>\n<h4>1.0<\/h4>\n<ul>\n<li>First build<\/li>\n<\/ul>\n","reviews":"<div class=\"review\">\n\t<div class=\"review-head\">\n\t\t<div class=\"reviewer-info\">\n\t\t\t<div class=\"review-title-section\">\n\t\t\t\t<h4 class=\"review-title\">Code review : Bot detected : this plugin sends outside notifications<\/h4>\n\t\t\t\t<div class=\"star-rating\">\n\t\t\t\t<div class=\"wporg-ratings\" aria-label=\"1 out of 5 stars\" data-title-template=\"%s out of 5 stars\" data-rating=\"1\" style=\"color:#ffb900;\"><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-empty\"><\/span><span class=\"star dashicons dashicons-star-empty\"><\/span><span class=\"star dashicons dashicons-star-empty\"><\/span><span class=\"star dashicons dashicons-star-empty\"><\/span><\/div>\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t\t<p class=\"reviewer\">\n\t\t\t\tBy <a href=\"https:\/\/profiles.wordpress.org\/osilence\/\"><img alt='' src='https:\/\/secure.gravatar.com\/avatar\/13e8e7602bd0a7ff5cc607a0779e4d4a?s=16&#038;d=monsterid&#038;r=g' srcset='https:\/\/secure.gravatar.com\/avatar\/13e8e7602bd0a7ff5cc607a0779e4d4a?s=32&#038;d=monsterid&#038;r=g 2x' class='avatar avatar-16 photo' height='16' width='16' loading='lazy' decoding='async'\/><\/a><a href=\"https:\/\/profiles.wordpress.org\/osilence\/\" class=\"reviewer-name\">Fr?d?ric Malo <small>(osilence)<\/small><\/a> on <span class=\"review-date\">September 3, 2016<\/span>\t\t\t<\/p>\n\t\t<\/div>\n\t<\/div>\n\t<div class=\"review-body\"><p>Hello, <\/p>\n<p>The description is not correct. This plugin sends notifications, and downloaders are not informed : \"This plugin only does one task, adding your posts' featured image to the RSS feed in tag. It will show your full size featured image url in the tag.\"<\/p>\n<p>Here is the source code of version 3.0<\/p>\n<p>&lt;?php<br \/>\n\/*<br \/>\nPlugin Name: JMS Rss Feed<br \/>\nPlugin URI: http:\/\/www.jmsliu.com\/products\/jms-rss-feed<br \/>\nDescription: Adds the featured image tag &lt;jms-featured-image&gt; to your posts to the RSS feed.<br \/>\nAuthor: James Liu<br \/>\nVersion: 3.0<br \/>\nAuthor URI: http:\/\/jmsliu.com\/<br \/>\n*\/<\/p>\n<p>\tglobal $jms_rss_db_version;<br \/>\n\t$jms_rss_db_version = '1.0';<\/p>\n<p>\tadd_action('rss2_item', 'add_jms_img_rss_node');<br \/>\n\tadd_action( 'publish_post', 'send_push_notification', 10, 2 );<\/p>\n<p>\t\/\/work together<br \/>\n\tadd_filter('query_vars', 'add_jms_single_post_var');<br \/>\n\tadd_action('parse_request', 'return_jms_single_post');<\/p>\n<p>\t\/\/install database<br \/>\n\tregister_activation_hook( __FILE__, 'install_jms' );<\/p>\n<p>\tfunction add_jms_img_rss_node() {<br \/>\n\t\tglobal $post;<br \/>\n\t\tif(has_post_thumbnail($post-&gt;ID)) {<br \/>\n\t\t\t$thumbnail = wp_get_attachment_image_src(get_post_thumbnail_id($post-&gt;ID), \"full\");<br \/>\n\t\t\techo \"&lt;jms-featured-image&gt;\".$thumbnail[0].\"&lt;\/jms-featured-image&gt;\";<br \/>\n\t\t}<br \/>\n\t}<\/p>\n<p>\tfunction add_jms_single_post_var($vars) {<br \/>\n\t\t$vars[] = 'jms_rss_post_url';<br \/>\n\t\t$vars[] = 'jms_rss_action';<br \/>\n\t\t$vars[] = 'jms_rss_token';<br \/>\n\t\t$vars[] = 'jms_rss_send';<br \/>\n\t\treturn $vars;<br \/>\n\t}<\/p>\n<p>\tfunction send_push_notification($ID, $post) {<br \/>\n\t\tglobal $wpdb;<br \/>\n\t\t$table_name = $wpdb-&gt;prefix . 'jms_rss_android_listener';<br \/>\n\t\t$devicesList = $wpdb-&gt;get_results(\"SELECT * FROM $table_name WHERE state=1\", \"ARRAY_A\");<br \/>\n\t\t$wpdb-&gt;flush();<\/p>\n<p>\t\tif ( $devicesList )\t{<\/p>\n<p>\t\t\tdefine(\"GOOGLE_API_KEY\", \"AIzaSyDYVTahqUmT4RX6brZnReUr6Rq2KNEUv90\");<\/p>\n<p>\t\t\t$deviceList = array();<\/p>\n<p>\t\t\tforeach ( $devicesList as $device )\t{<br \/>\n\t\t\t\t$token = $device[\"device_token\"];<br \/>\n\t\t\t\tif(strlen($token) &gt; 10) {<br \/>\n\t\t\t\t\t$deviceList[] = $token;<br \/>\n\t\t\t\t}<br \/>\n\t\t\t}<\/p>\n<p>\t\t\t\/\/$author = $post-&gt;post_author; \/\/Post author ID<br \/>\n\t\t\t\/\/$name = get_the_author_meta( 'display_name', $author );<br \/>\n\t\t\t\/\/$email = get_the_author_meta( 'user_email', $author );<br \/>\n\t\t\t$title = $post-&gt;post_title;<br \/>\n\t\t\t\/\/$permalink = get_permalink( $ID );<br \/>\n\t\t\t\/\/$edit = get_edit_post_link( $ID, '' );<\/p>\n<p>\t\t\t\/\/$subject = sprintf( 'Published: %s', $title );<br \/>\n\t\t\t$message = sprintf ('The article \u201c%s\u201d has been published.', $title);<\/p>\n<p>\t\t\t\/\/$message .= sprintf( 'View: %s', $permalink );<br \/>\n\t\t\tsendNotification($deviceList, $message);<br \/>\n\t\t}<br \/>\n\t}<\/p>\n<p>\tfunction return_jms_single_post($wp) {<br \/>\n\t\tglobal $wpdb;<\/p>\n<p>\t\t\/\/this is for test<br \/>\n\t\tif(array_key_exists('jms_rss_send', $wp-&gt;query_vars)) {<br \/>\n\t\t\t$action = $wp-&gt;query_vars['jms_rss_send'];<br \/>\n\t\t\tif($action == '1') {<br \/>\n\t\t\t\t$table_name = $wpdb-&gt;prefix . 'jms_rss_android_listener';<br \/>\n\t\t\t\t$devicesList = $wpdb-&gt;get_results(\"SELECT * FROM $table_name WHERE state=1\", \"ARRAY_A\");<br \/>\n\t\t\t\t$wpdb-&gt;flush();<\/p>\n<p>\t\t\t\tif ( $devicesList )\t{<\/p>\n<p>\t\t\t\t\tdefine(\"GOOGLE_API_KEY\", \"AIzaSyDYVTahqUmT4RX6brZnReUr6Rq2KNEUv90\");<\/p>\n<p>\t\t\t\t\t$deviceList = array();<\/p>\n<p>\t\t\t\t\tforeach ( $devicesList as $device )\t{<br \/>\n\t\t\t\t\t\t$token = $device[\"device_token\"];<br \/>\n\t\t\t\t\t\tif(strlen($token) &gt; 10) {<br \/>\n\t\t\t\t\t\t\t$deviceList[] = $token;<br \/>\n\t\t\t\t\t\t}<br \/>\n\t\t\t\t\t}<\/p>\n<p>\t\t\t\t\tsendNotification($deviceList, \"Hello World!\");<br \/>\n\t\t\t\t}<br \/>\n\t\t\t}<\/p>\n<p>\t\t\texit;<br \/>\n\t\t}<\/p>\n<p>\t\tif (array_key_exists('jms_rss_action', $wp-&gt;query_vars)) {<br \/>\n\t\t\t$action = $wp-&gt;query_vars['jms_rss_action'];<\/p>\n<p>\t\t\tif(!empty($action)) {<br \/>\n\t\t\t\tif($action == \"register_android\") {<br \/>\n\t\t\t\t\t$token = $wp-&gt;query_vars['jms_rss_token'];<br \/>\n\t\t\t\t\t$table_name = $wpdb-&gt;prefix . 'jms_rss_android_listener';<\/p>\n<p>\t\t\t\t\t$wpdb-&gt;query( $wpdb-&gt;prepare(<br \/>\n\t\t\t\t\t\t\"<br \/>\n\t\t\t\t\t\t\tINSERT INTO $table_name<br \/>\n\t\t\t\t\t\t\t( device_token, state, reg_date )<br \/>\n\t\t\t\t\t\t\tVALUES ( %s, %d, %s )<br \/>\n\t\t\t\t\t\t\",<br \/>\n\t\t\t\t\t\t\tarray(<br \/>\n\t\t\t\t\t\t\t\t$token,<br \/>\n\t\t\t\t\t\t\t\t1,<br \/>\n\t\t\t\t\t\t\t\tcurrent_time('mysql', 1)<br \/>\n\t\t\t\t\t\t\t)<br \/>\n\t\t\t\t\t) );<\/p>\n<p>\t\t\t\t\techo $wpdb-&gt;insert_id;<br \/>\n\t\t\t\t\texit;<br \/>\n\t\t\t\t}<br \/>\n\t\t\t}<br \/>\n\t\t}<\/p>\n<p>\t\tif (array_key_exists('jms_rss_post_url', $wp-&gt;query_vars)) {<br \/>\n\t\t\t\/\/for old usage only<br \/>\n\t\t\t$url = $wp-&gt;query_vars['jms_rss_post_url'];<br \/>\n\t\t\t$postid = url_to_postid( $url );<br \/>\n\t\t\t$post = get_post($postid);<br \/>\n\t\t\t\/\/print_r($post);<br \/>\n\t\t\techo $post-&gt;post_content;<br \/>\n\t\t\texit;<br \/>\n\t\t}<br \/>\n\t}<\/p>\n<p>\tfunction install_jms() {<br \/>\n\t\tglobal $jms_rss_db_version;<br \/>\n\t\tglobal $wpdb;<\/p>\n<p>\t\t$installed_ver = get_option( \"jms_rss_db_version\", null );<br \/>\n\t\tif ( $installed_ver == null ) {<br \/>\n\t\t\t$table_name = $wpdb-&gt;prefix . \"jms_rss_android_listener\";<br \/>\n\t\t\t$charset_collate = $wpdb-&gt;get_charset_collate();<\/p>\n<p>\t\t\t$sql = \"CREATE TABLE IF NOT EXISTS $table_name (<br \/>\n\t\t\t  <code>id<\/code> INT NOT NULL AUTO_INCREMENT ,<br \/>\n\t\t\t  <code>device_token<\/code> VARCHAR(255) NOT NULL ,<br \/>\n\t\t\t  <code>state<\/code> TINYINT NOT NULL COMMENT '0 disabled\\n1 enabled' ,<br \/>\n\t\t\t  <code>reg_date<\/code> DATETIME NOT NULL ,<br \/>\n\t\t\t  PRIMARY KEY (<code>id<\/code>),<br \/>\n\t\t\t  UNIQUE INDEX <code>id_UNIQUE<\/code> (<code>id<\/code> ASC) ,<br \/>\n\t\t\t  UNIQUE INDEX <code>device_token_UNIQUE<\/code> (<code>device_token<\/code> ASC)<br \/>\n\t\t\t  ) ENGINE = INNODB $charset_collate;\";<\/p>\n<p>\t\t\trequire_once( ABSPATH . 'wp-admin\/includes\/upgrade.php' );<br \/>\n\t\t\tdbDelta( $sql );<\/p>\n<p>\t\t\tadd_option( \"jms_rss_db_version\", $jms_rss_db_version );<br \/>\n\t\t}<br \/>\n\t}<\/p>\n<p>\tfunction sendNotification($registrationIDs, $message) {<br \/>\n\t\t\/\/$registrationIDs = array( \"reg id1\",\"reg id2\");<br \/>\n\t\t$url = 'https:\/\/gcm-http.googleapis.com\/gcm\/send';<\/p>\n<p>\t\t$fields = array(<br \/>\n\t\t\t'registration_ids' =&gt; $registrationIDs,<br \/>\n\t\t\t'data' =&gt; array( \"message\" =&gt; $message ),<br \/>\n\t\t);<\/p>\n<p>\t\t$headers = array(<br \/>\n\t\t\t'Authorization: key=' . GOOGLE_API_KEY,<br \/>\n\t\t\t'Content-Type: application\/json'<br \/>\n\t\t);<\/p>\n<p>\t\t\/\/ Open connection<br \/>\n\t\t$ch = curl_init();<\/p>\n<p>\t\t\/\/ Set the URL, number of POST vars, POST data<br \/>\n\t\tcurl_setopt( $ch, CURLOPT_URL, $url);<br \/>\n\t\tcurl_setopt( $ch, CURLOPT_POST, true);<br \/>\n\t\tcurl_setopt( $ch, CURLOPT_HTTPHEADER, $headers);<br \/>\n\t\tcurl_setopt( $ch, CURLOPT_RETURNTRANSFER, true);<br \/>\n\t\t\/\/curl_setopt( $ch, CURLOPT_POSTFIELDS, json_encode( $fields));<\/p>\n<p>\t\tcurl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false);<br \/>\n\t\t\/\/ curl_setopt($ch, CURLOPT_POST, true);<br \/>\n\t\t\/\/ curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);<br \/>\n\t\tcurl_setopt($ch, CURLOPT_POSTFIELDS, json_encode( $fields));<\/p>\n<p>\t\t\/\/ Execute post<br \/>\n\t\t$result = curl_exec($ch);<\/p>\n<p>\t\t\/\/ Close connection<br \/>\n\t\tcurl_close($ch);<br \/>\n\t\techo $result;<br \/>\n\t\t\/\/print_r($result);<br \/>\n\t\t\/\/var_dump($result);<br \/>\n\t}<\/p>\n<p>?&gt;\n<\/p>\n<\/div>\n<\/div>\n"},"download_link":"https:\/\/downloads.wordpress.org\/plugin\/jms-rss-feed.zip","screenshots":[],"tags":{"add-featured-image":"add featured image","add-featured-image-to-rss":"add featured image to rss","featured-image":"featured image","feed":"feed","post-thumbnail":"post thumbnail"},"versions":[],"donate_link":"https:\/\/jmsliu.com\/products\/jms-rss-feed\/","banners":[]}