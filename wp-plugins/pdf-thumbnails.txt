{"name":"PDF Thumbnails","slug":"pdf-thumbnails","version":"2.2.0","author":"Stian Liknes","author_profile":"https:\/\/profiles.wordpress.org\/stianlik\/","contributors":{"stianlik":{"profile":"https:\/\/profiles.wordpress.org\/stianlik\/","avatar":"https:\/\/secure.gravatar.com\/avatar\/c0848de0cd0ed4e155c21756b4651336?s=96&d=monsterid&r=g","display_name":"stianlik"},"mirgcire":{"profile":"https:\/\/profiles.wordpress.org\/mirgcire\/","avatar":"https:\/\/secure.gravatar.com\/avatar\/443b42a76c9d24a68637615a397d9df7?s=96&d=monsterid&r=g","display_name":"mirgcire"}},"requires":false,"tested":"4.6.27","requires_php":false,"requires_plugins":[],"rating":92,"ratings":{"5":8,"4":0,"3":0,"2":0,"1":1},"num_ratings":9,"support_threads":1,"support_threads_resolved":1,"active_installs":1000,"last_updated":"2016-10-24 8:49pm GMT","added":"2014-04-07","homepage":"","sections":{"description":"<p>This plugin hooks into the media manager and generates a thumbnail everytime a<br \/>\nPDF is uploaded. Generated thumbnail is an image of the first page in the<br \/>\nuploaded document and is named <code>PDFNAME-thumbnail<\/code>, where <code>PDFNAME<\/code> is replaced<br \/>\nby uploaded document filename.<\/p>\n<p>Generated thumbnails are equivalent to <a href=\"https:\/\/codex.wordpress.org\/Post_Thumbnails\" rel=\"nofollow ugc\">featured<br \/>\nimages<\/a> so that common thumbnail<br \/>\nfunctions like <code>get_post_thumbnail_id()<\/code> can be used for PDF attachments. See<br \/>\n<a href=\"https:\/\/codex.wordpress.org\/Post_Thumbnails\" rel=\"nofollow ugc\">Post Thumbnails<\/a> for information<br \/>\non how you can use thumbnails efficiently.<\/p>\n<p>Integration with the javascript media API is not yet implemented, therefore, you<br \/>\nmay need to reload the page before you can see generated thumbnail after an<br \/>\nupload.<\/p>\n<h4>Shortcodes<\/h4>\n<p>It is possible to display a thumbnail linking to an uploaded PDF using the <code>[pdf_thumbnails_link]<\/code><br \/>\nshortcode. The following attributes are supported:<\/p>\n<ul>\n<li><code>id<\/code> &#8211; Attachment ID (required)<\/li>\n<li><code>size<\/code> &#8211; <a href=\"https:\/\/codex.wordpress.org\/Post_Thumbnails#Thumbnail_Sizes\" rel=\"nofollow ugc\">Thumbnail size<\/a> (optional)<\/li>\n<li><code>title<\/code> &#8211; <a href=\"https:\/\/developer.mozilla.org\/en-US\/docs\/Web\/HTML\/Global_attributes#attr-title\" rel=\"nofollow ugc\">Anchor title attribute<\/a> (optional)<\/li>\n<li><code>target<\/code> &#8211; <a href=\"https:\/\/developer.mozilla.org\/en-US\/docs\/Web\/HTML\/Element\/a#attr-target\" rel=\"nofollow ugc\">Anchor target attribute<\/a> (optional)<\/li>\n<li><code>download<\/code> &#8211; <a href=\"https:\/\/developer.mozilla.org\/en-US\/docs\/Web\/HTML\/Element\/a#attr-download\" rel=\"nofollow ugc\">Anchor download attribute<\/a> (optional)<\/li>\n<\/ul>\n<p>Example 1: Display link to PDF with ID = 172 using <a href=\"https:\/\/codex.wordpress.org\/Post_Thumbnails#Thumbnail_Sizes\" rel=\"nofollow ugc\">default thumbnail size<\/a><\/p>\n<pre><code>[pdf_thumbnails_link id=\"172\"]\n<\/code><\/pre>\n<p>Example 2: Display link to PDF with ID = 172 using thumbnail size (default 150&#215;150)<\/p>\n<pre><code>[pdf_thumbnails_link id=\"172\" size=\"thumbnail\"]\n<\/code><\/pre>\n<p>Thanks to <a href=\"https:\/\/wordpress.org\/support\/profile\/mirgcire\" rel=\"ugc\">mirgcire<\/a> for providing the first<br \/>\nversion of the <code>[pdf_thumbnails_link]<\/code> shortcode.<\/p>\n<h4>Developer API<\/h4>\n<p>In most cases it should be sufficient to use built-in thumbnail functions from<br \/>\nthe WordPress API (<code>get_post_thumbnail<\/code> and similar). If you need to modify the<br \/>\nway thumbnails are generated, you can override image generation with<br \/>\nthe <code>pdf_thumbnails_generate_image_blob<\/code> filter.<\/p>\n<p>Example 1: Increase resolution for all generated PDF thumbnails<\/p>\n<pre><code>\/\/ $blob is the current image blob (defaults to null, can be used for chaining)\n\/\/ $filename is the PDF filename\nadd_action('pdf_thumbnails_generate_image_blob', function ($blob, $filename) {\n    $imagick = new Imagick();\n    $imagick-&gt;setResolution(200,200);\n    $imagick-&gt;readImage($filename);\n    $imagick-&gt;setIteratorIndex(0);\n    $imagick-&gt;setImageFormat('jpg');\n    return $imagick-&gt;getImageBlob();\n}, 10, 2);\n<\/code><\/pre>\n<p>It is possible to modify generated thumbnail links using the <code>pdf_thumbnails_link_shortcode<\/code><br \/>\nfilter. The following attributes are available:<\/p>\n<ul>\n<li><code>$html<\/code> &#8211; Generated HTML code to be displayed<\/li>\n<li><code>$attachmentId<\/code> &#8211; Sanitized ID of the PDF attachment<\/li>\n<li><code>$size<\/code> &#8211; Sanitized thumbnail size<\/li>\n<li><code>$atts<\/code> &#8211; <a href=\"https:\/\/codex.wordpress.org\/Shortcode_API#Handling_Attributes\" rel=\"nofollow ugc\">Shortcode attributes (not sanitized)<\/a><\/li>\n<li><code>$content<\/code> &#8211; Shortcode content (not sanitized)<\/li>\n<\/ul>\n<p>Example 2: Wrap thumbnail link in figure and append caption<\/p>\n<pre><code>add_filter('pdf_thumbnails_link_shortcode', function ($html, $attachmentId, $size, $atts, $content) {\n    return \"&lt;figure&gt;$html &lt;caption&gt;Click to open image $attachmentId&lt;\/caption&gt;&lt;\/figure&gt;\";\n}, 10, 5);\n<\/code><\/pre>\n<h3>TODO<\/h3>\n<p>Add generated image to media browser after upload.<\/p>\n<p>Outline of an implementation based on the javascript media API:<\/p>\n<pre><code>\/\/ New uploads\nwp.Uploader.queue.on('add', function (attachment) {\n\n    if (attachment.subtype !== 'pdf') {\n        return;\n    }\n\n    findThumbnailFor(attachment.ID).then(function (data) {\n\n        \/\/ Add attachment thumbnail to browser\n        var attachment = wp.media.model.Attachment.get(id)\n        attachment.fetch().done(function () {\n            wp.media.editor.open().state().get('library').add(generated attachment)\n        });\n\n    });\n});\n<\/code><\/pre>\n<p>Filter: ajax_query_attachments_args<\/p>\n","installation":"<p>PDF Thumbnails requires ImageMagick with GhostScript support. If you are lucky,<br \/>\nthis is already installed on your system, otherwise, installation can be done<br \/>\nwith the following steps:<\/p>\n<ol>\n<li>Install ghostscript<\/li>\n<li>Install imagemagick with ghostscript support<\/li>\n<li>Install PHP extension for imagemagick (can use pecl)<\/li>\n<li>Restart web server for changes to take effect<\/li>\n<\/ol>\n<p>Details may differ based on which operating system you are running, see<br \/>\n<a href=\"https:\/\/wordpress.org\/support\/topic\/nothing-but-error-messages\" rel=\"ugc\">Support<\/a> for<br \/>\nmore resources and tips on how this can be done in Windows, Linux and OSX.<\/p>\n<h4>Debian \/ Ubuntu<\/h4>\n<pre><code>sudo apt-get install ghostscript php5-imagick\nsudo service apache2 restart\n<\/code><\/pre>\n","changelog":"<p>This plugin use <a href=\"http:\/\/semver.org\/\" rel=\"nofollow ugc\">semantic versioning<\/a>, i.e. breaking changes<br \/>\nincrease the MAJOR version.<\/p>\n<h4>2.2.0<\/h4>\n<ul>\n<li>Support title, target, and download attributes in <code>pdf_thumbnails_link<\/code> shortcode<\/li>\n<\/ul>\n<h4>2.1.0<\/h4>\n<ul>\n<li>Support thumbnail links with the <code>pdf_thumbnails_link<\/code> shortcode<\/li>\n<li>Support link customization using the <code>pdf_thumbnails_link_shortcode<\/code> filter<\/li>\n<\/ul>\n<h4>2.0.0<\/h4>\n<ul>\n<li>Replaced <code>pdf_thumbnails_before_get_image_blob<\/code> hook with <code>pdf_thumbnails_generate_image_blob<\/code> filter<\/li>\n<\/ul>\n<h4>1.0.2<\/h4>\n<ul>\n<li>Introduced <code>pdf_thumbnails_before_get_image_blob<\/code> hook<\/li>\n<\/ul>\n","reviews":"<div class=\"review\">\n\t<div class=\"review-head\">\n\t\t<div class=\"reviewer-info\">\n\t\t\t<div class=\"review-title-section\">\n\t\t\t\t<h4 class=\"review-title\">No longer supported<\/h4>\n\t\t\t\t<div class=\"star-rating\">\n\t\t\t\t<div class=\"wporg-ratings\" aria-label=\"1 out of 5 stars\" data-title-template=\"%s out of 5 stars\" data-rating=\"1\" style=\"color:#ffb900;\"><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-empty\"><\/span><span class=\"star dashicons dashicons-star-empty\"><\/span><span class=\"star dashicons dashicons-star-empty\"><\/span><span class=\"star dashicons dashicons-star-empty\"><\/span><\/div>\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t\t<p class=\"reviewer\">\n\t\t\t\tBy <a href=\"https:\/\/profiles.wordpress.org\/joyrowe\/\"><img alt='' src='https:\/\/secure.gravatar.com\/avatar\/5899d80b9d1d6897fce1715c977a9f1d?s=16&#038;d=monsterid&#038;r=g' srcset='https:\/\/secure.gravatar.com\/avatar\/5899d80b9d1d6897fce1715c977a9f1d?s=32&#038;d=monsterid&#038;r=g 2x' class='avatar avatar-16 photo' height='16' width='16' loading='lazy' decoding='async'\/><\/a><a href=\"https:\/\/profiles.wordpress.org\/joyrowe\/\" class=\"reviewer-name\">joyrowe<\/a> on <span class=\"review-date\">June 17, 2019<\/span>\t\t\t<\/p>\n\t\t<\/div>\n\t<\/div>\n\t<div class=\"review-body\">As of June 2019, this plug-in does not seem to be functioning on our site. It has not been updated for 3 years. We are using WordPress 5.2.1.<\/div>\n<\/div>\n<div class=\"review\">\n\t<div class=\"review-head\">\n\t\t<div class=\"reviewer-info\">\n\t\t\t<div class=\"review-title-section\">\n\t\t\t\t<h4 class=\"review-title\">great!<\/h4>\n\t\t\t\t<div class=\"star-rating\">\n\t\t\t\t<div class=\"wporg-ratings\" aria-label=\"5 out of 5 stars\" data-title-template=\"%s out of 5 stars\" data-rating=\"5\" style=\"color:#ffb900;\"><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><\/div>\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t\t<p class=\"reviewer\">\n\t\t\t\tBy <a href=\"https:\/\/profiles.wordpress.org\/formgiver\/\"><img alt='' src='https:\/\/secure.gravatar.com\/avatar\/d6d5a16c6a186d3d93b2ae9a217c54db?s=16&#038;d=monsterid&#038;r=g' srcset='https:\/\/secure.gravatar.com\/avatar\/d6d5a16c6a186d3d93b2ae9a217c54db?s=32&#038;d=monsterid&#038;r=g 2x' class='avatar avatar-16 photo' height='16' width='16' loading='lazy' decoding='async'\/><\/a><a href=\"https:\/\/profiles.wordpress.org\/formgiver\/\" class=\"reviewer-name\">formgiver<\/a> on <span class=\"review-date\">February 21, 2019<\/span>\t\t\t<\/p>\n\t\t<\/div>\n\t<\/div>\n\t<div class=\"review-body\">thank you so much! i just needed to enable imagik and ask my host to speed up the php libraries' updating process, it already had pdf support.<\/div>\n<\/div>\n<div class=\"review\">\n\t<div class=\"review-head\">\n\t\t<div class=\"reviewer-info\">\n\t\t\t<div class=\"review-title-section\">\n\t\t\t\t<h4 class=\"review-title\">Excellent<\/h4>\n\t\t\t\t<div class=\"star-rating\">\n\t\t\t\t<div class=\"wporg-ratings\" aria-label=\"5 out of 5 stars\" data-title-template=\"%s out of 5 stars\" data-rating=\"5\" style=\"color:#ffb900;\"><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><\/div>\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t\t<p class=\"reviewer\">\n\t\t\t\tBy <a href=\"https:\/\/profiles.wordpress.org\/jonsisk\/\"><img alt='' src='https:\/\/secure.gravatar.com\/avatar\/4c0684f9375e7fce873ddde49b11f6ce?s=16&#038;d=monsterid&#038;r=g' srcset='https:\/\/secure.gravatar.com\/avatar\/4c0684f9375e7fce873ddde49b11f6ce?s=32&#038;d=monsterid&#038;r=g 2x' class='avatar avatar-16 photo' height='16' width='16' loading='lazy' decoding='async'\/><\/a><a href=\"https:\/\/profiles.wordpress.org\/jonsisk\/\" class=\"reviewer-name\">jonsisk<\/a> on <span class=\"review-date\">June 28, 2018<\/span>\t\t\t<\/p>\n\t\t<\/div>\n\t<\/div>\n\t<div class=\"review-body\">Works just like it should. Can't believe this functionality isn't in the WP core. Thanks!<\/div>\n<\/div>\n<div class=\"review\">\n\t<div class=\"review-head\">\n\t\t<div class=\"reviewer-info\">\n\t\t\t<div class=\"review-title-section\">\n\t\t\t\t<h4 class=\"review-title\">Nice Job<\/h4>\n\t\t\t\t<div class=\"star-rating\">\n\t\t\t\t<div class=\"wporg-ratings\" aria-label=\"5 out of 5 stars\" data-title-template=\"%s out of 5 stars\" data-rating=\"5\" style=\"color:#ffb900;\"><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><\/div>\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t\t<p class=\"reviewer\">\n\t\t\t\tBy <a href=\"https:\/\/profiles.wordpress.org\/mirgcire\/\"><img alt='' src='https:\/\/secure.gravatar.com\/avatar\/443b42a76c9d24a68637615a397d9df7?s=16&#038;d=monsterid&#038;r=g' srcset='https:\/\/secure.gravatar.com\/avatar\/443b42a76c9d24a68637615a397d9df7?s=32&#038;d=monsterid&#038;r=g 2x' class='avatar avatar-16 photo' height='16' width='16' loading='lazy' decoding='async'\/><\/a><a href=\"https:\/\/profiles.wordpress.org\/mirgcire\/\" class=\"reviewer-name\">mirgcire<\/a> on <span class=\"review-date\">September 3, 2016<\/span>\t\t\t<\/p>\n\t\t<\/div>\n\t<\/div>\n\t<div class=\"review-body\"><p>The plugin does just what it says and the author is very helpful.  My only suggestion would be to add a short code that would insert a clickable thumbnail into a webpage.  Clicking on that would open the PDF in a viewer.<\/p>\n<p>For example: [pdf-thumbnail id=\"1234\" size=\"medium\"]<\/p>\n<p>... naturally this functionality would require host support for imagick.\n<\/p>\n<\/div>\n<\/div>\n<div class=\"review\">\n\t<div class=\"review-head\">\n\t\t<div class=\"reviewer-info\">\n\t\t\t<div class=\"review-title-section\">\n\t\t\t\t<h4 class=\"review-title\">Works as expected<\/h4>\n\t\t\t\t<div class=\"star-rating\">\n\t\t\t\t<div class=\"wporg-ratings\" aria-label=\"5 out of 5 stars\" data-title-template=\"%s out of 5 stars\" data-rating=\"5\" style=\"color:#ffb900;\"><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><\/div>\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t\t<p class=\"reviewer\">\n\t\t\t\tBy <a href=\"https:\/\/profiles.wordpress.org\/joschi81\/\"><img alt='' src='https:\/\/secure.gravatar.com\/avatar\/0c7aaaec8a34fb3a943ceb60d42935d2?s=16&#038;d=monsterid&#038;r=g' srcset='https:\/\/secure.gravatar.com\/avatar\/0c7aaaec8a34fb3a943ceb60d42935d2?s=32&#038;d=monsterid&#038;r=g 2x' class='avatar avatar-16 photo' height='16' width='16' loading='lazy' decoding='async'\/><\/a><a href=\"https:\/\/profiles.wordpress.org\/joschi81\/\" class=\"reviewer-name\">winnewoerp <small>(joschi81)<\/small><\/a> on <span class=\"review-date\">September 3, 2016<\/span>\t\t\t<\/p>\n\t\t<\/div>\n\t<\/div>\n\t<div class=\"review-body\"><p>This plugin does what it's supposed to do. No problems.\n<\/p>\n<\/div>\n<\/div>\n"},"download_link":"https:\/\/downloads.wordpress.org\/plugin\/pdf-thumbnails.2.2.0.zip","screenshots":[],"tags":{"generator":"generator","pdf":"pdf","thumbnail":"thumbnail"},"versions":{"0.0.2":"https:\/\/downloads.wordpress.org\/plugin\/pdf-thumbnails.0.0.2.zip","0.0.3":"https:\/\/downloads.wordpress.org\/plugin\/pdf-thumbnails.0.0.3.zip","0.0.4":"https:\/\/downloads.wordpress.org\/plugin\/pdf-thumbnails.0.0.4.zip","0.0.5":"https:\/\/downloads.wordpress.org\/plugin\/pdf-thumbnails.0.0.5.zip","0.0.6":"https:\/\/downloads.wordpress.org\/plugin\/pdf-thumbnails.0.0.6.zip","1.0.0":"https:\/\/downloads.wordpress.org\/plugin\/pdf-thumbnails.1.0.0.zip","1.0.1":"https:\/\/downloads.wordpress.org\/plugin\/pdf-thumbnails.1.0.1.zip","1.0.2":"https:\/\/downloads.wordpress.org\/plugin\/pdf-thumbnails.1.0.2.zip","2.0.0":"https:\/\/downloads.wordpress.org\/plugin\/pdf-thumbnails.2.0.0.zip","2.1.0":"https:\/\/downloads.wordpress.org\/plugin\/pdf-thumbnails.2.1.0.zip","2.2.0":"https:\/\/downloads.wordpress.org\/plugin\/pdf-thumbnails.2.2.0.zip","trunk":"https:\/\/downloads.wordpress.org\/plugin\/pdf-thumbnails.zip"},"donate_link":"","banners":[]}