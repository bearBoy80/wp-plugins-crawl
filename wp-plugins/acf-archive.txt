{"name":"Advanced Custom Fields: Archive Templates","slug":"acf-archive","version":"1.0.6","author":"<a href=\"https:\/\/www.imark.co.il\">Imark Image<\/a>","author_profile":"https:\/\/profiles.wordpress.org\/imarkimage\/","contributors":{"imarkimage":{"profile":"https:\/\/profiles.wordpress.org\/imarkimage\/","avatar":"https:\/\/secure.gravatar.com\/avatar\/c45736892206f2459af818e8c2faf195?s=96&d=monsterid&r=g","display_name":"Imark Image"},"yehudah":{"profile":"https:\/\/profiles.wordpress.org\/yehudah\/","avatar":"https:\/\/secure.gravatar.com\/avatar\/a1df842880eb1d6c43c71fa1833bffdb?s=96&d=monsterid&r=g","display_name":"yehudah"},"idofri":{"profile":"https:\/\/profiles.wordpress.org\/idofri\/","avatar":"https:\/\/secure.gravatar.com\/avatar\/788012f2d1c3ad2dda14b20957f47fd3?s=96&d=monsterid&r=g","display_name":"Ido Friedlander"},"rellect":{"profile":"https:\/\/profiles.wordpress.org\/rellect\/","avatar":"https:\/\/secure.gravatar.com\/avatar\/a3d25b2f5849744ccc8fb714e80b831b?s=96&d=monsterid&r=g","display_name":"Refael Iliaguyev"}},"requires":"4.1","tested":"5.4.14","requires_php":"5.4","requires_plugins":[],"rating":100,"ratings":{"5":2,"4":0,"3":0,"2":0,"1":0},"num_ratings":2,"support_threads":1,"support_threads_resolved":0,"active_installs":1000,"last_updated":"2020-05-25 6:54pm GMT","added":"2018-10-25","homepage":"https:\/\/www.imark.co.il\/","sections":{"description":"<p>ACF Archives is a little plugin for helping you attach ACF fields to the archive template.<br \/>\nThe plugin will add a submenu for each public custom post type with archive defined<br \/>\nand then you can select under ACF rules box.<\/p>\n<h3>Want to add or remove the submenu for other custom post types?<\/h3>\n<p>Here is a code example you can add to to your theme functions.php<\/p>\n<pre><code>    add_filter( 'acf_archive_post_types', 'change_acf_archive_cpt' );\n    function change_acf_archive_cpt( $cpts ) {\n        \/\/ 'book' and 'movie' are the cpt key.\n\n        \/\/ Remove cpt\n        unset( $cpts['book'] );\n\n        \/\/ Add cpt\n        $cpts['movie'] = Movies Archive;\n\n        return $cpts;\n    }\n<\/code><\/pre>\n<h3>Get the acf field on archive page<\/h3>\n<pre><code>    $object = get_queried_object();\n    $field = get_field( 'field_name', $object-&gt;name );\n\n    var_dump( $field );\n<\/code><\/pre>\n<h3>From within WordPress<\/h3>\n<ol>\n<li>Visit &#8216;Plugins &gt; Add New&#8217;<\/li>\n<li>Search for &#8216;acf archive&#8217;<\/li>\n<li>Activate ACF Archive from your Plugins page.<\/li>\n<\/ol>\n<h3>Manually<\/h3>\n<ol>\n<li>Upload the <code>acf-archive<\/code> folder to the <code>\/wp-content\/plugins\/<\/code> directory<\/li>\n<li>Activate the ACF Archive plugin through the &#8216;Plugins&#8217; menu in WordPress<\/li>\n<\/ol>\n","changelog":"<h4>1.0.6<\/h4>\n<p>Just update some info<\/p>\n<h4>1.0.4<\/h4>\n<p>Fixed: Rule match bug<\/p>\n<h4>1.0.3<\/h4>\n<p>Compatibility when ACF is loaded on the theme<\/p>\n<h4>1.0.2<\/h4>\n<p>Code refactor and better compatibility<\/p>\n<h4>1.1<\/h4>\n<p>Minor fix for CPT UI<\/p>\n<h4>1.0<\/h4>\n<p>Initial Release<\/p>\n","screenshots":"<ol><li><a href=\"https:\/\/ps.w.org\/acf-archive\/assets\/screenshot-1.png?rev=1962923\"><img src=\"https:\/\/ps.w.org\/acf-archive\/assets\/screenshot-1.png?rev=1962923\" alt=\"New Archive ACF rule under ACF rules\"><\/a><p>New Archive ACF rule under ACF rules<\/p><\/li><li><a href=\"https:\/\/ps.w.org\/acf-archive\/assets\/screenshot-2.png?rev=1962923\"><img src=\"https:\/\/ps.w.org\/acf-archive\/assets\/screenshot-2.png?rev=1962923\" alt=\"ACF Archive menu page under each custom post type with archive enabled.\"><\/a><p>ACF Archive menu page under each custom post type with archive enabled.<\/p><\/li><\/ol>","reviews":"<div class=\"review\">\n\t<div class=\"review-head\">\n\t\t<div class=\"reviewer-info\">\n\t\t\t<div class=\"review-title-section\">\n\t\t\t\t<h4 class=\"review-title\">Nice work<\/h4>\n\t\t\t\t<div class=\"star-rating\">\n\t\t\t\t<div class=\"wporg-ratings\" aria-label=\"5 out of 5 stars\" data-title-template=\"%s out of 5 stars\" data-rating=\"5\" style=\"color:#ffb900;\"><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><\/div>\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t\t<p class=\"reviewer\">\n\t\t\t\tBy <a href=\"https:\/\/profiles.wordpress.org\/platcatheo\/\"><img alt='' src='https:\/\/secure.gravatar.com\/avatar\/4dc23db52e0180fcd8c966fa79b4cbb5?s=16&#038;d=monsterid&#038;r=g' srcset='https:\/\/secure.gravatar.com\/avatar\/4dc23db52e0180fcd8c966fa79b4cbb5?s=32&#038;d=monsterid&#038;r=g 2x' class='avatar avatar-16 photo' height='16' width='16' loading='lazy' decoding='async'\/><\/a><a href=\"https:\/\/profiles.wordpress.org\/platcatheo\/\" class=\"reviewer-name\">Theo Platica <small>(platcatheo)<\/small><\/a> on <span class=\"review-date\">March 28, 2020<\/span>\t\t\t<\/p>\n\t\t<\/div>\n\t<\/div>\n\t<div class=\"review-body\">Thank you for your contribution, but in order to expand the correct menu item, I had to make some edits to your plugin:\n\n\n<pre><code> \/**\n     * Load the ACF Assets only on archive options page\n     * @param string $hook_suffix\n     * @return void\n     *\/\n    public function admin_enqueue_scripts( $hook_suffix ) {\n        $screen = get_current_screen();\n\n        if ( strpos($_GET[&#039;page&#039;], &#039;archive-options&#039;) !==  FALSE ) {\n            acf_enqueue_scripts();\n        }\n    }\n\n    \/**\n     * Add ACF menu page for each custom post type\n     *\n     * @param string $label\n     * @param string $menu\n     *\/\n    private function add_menu( $label, $menu, $post_type ) {\n        $page_name = sprintf( __( &#039;%s Archive&#039;, &#039;acf-archive&#039; ), $label);\n\n        $options = [\n            &#039;parent_slug&#039; =&gt; $menu,\n            &#039;page_title&#039;  =&gt; $page_name,\n            &#039;menu_title&#039;  =&gt; $page_name,\n            &#039;capability&#039;  =&gt; &#039;edit_posts&#039;,\n            &#039;menu_slug&#039;   =&gt; &#039;archive-options-&#039;.$post_type,\n        ];\n\n        add_submenu_page(\n            $options[&#039;parent_slug&#039;],\n            $options[&#039;page_title&#039;],\n            $options[&#039;menu_title&#039;],\n            $options[&#039;capability&#039;],\n            $options[&#039;menu_slug&#039;],\n            [ $this, &#039;render_menu&#039; ]\n        );\n    }\n\n    \/**\n     * Check if we are in the current post type for showing the fields.\n     *\n     * @param $match\n     * @param $rule\n     * @param $options\n     * @return bool\n     *\/\n    public function location_rules_match_archive( $match, $rule, $options ) {\n        if ( ! isset( $_GET[&#039;post_type&#039;] ) || ! isset( $_GET[&#039;page&#039;] ) ) {\n            return $match;\n        }\n\n        return $_GET[&#039;post_type&#039;] == $rule[&#039;value&#039;] &amp;&amp; strpos($_GET[&#039;page&#039;], &#039;archive-options&#039;) !==  FALSE;\n    }<\/code><\/pre>\n<\/div>\n<\/div>\n<div class=\"review\">\n\t<div class=\"review-head\">\n\t\t<div class=\"reviewer-info\">\n\t\t\t<div class=\"review-title-section\">\n\t\t\t\t<h4 class=\"review-title\">Very handy plugin<\/h4>\n\t\t\t\t<div class=\"star-rating\">\n\t\t\t\t<div class=\"wporg-ratings\" aria-label=\"5 out of 5 stars\" data-title-template=\"%s out of 5 stars\" data-rating=\"5\" style=\"color:#ffb900;\"><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><\/div>\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t\t<p class=\"reviewer\">\n\t\t\t\tBy <a href=\"https:\/\/profiles.wordpress.org\/kiwimeg\/\"><img alt='' src='https:\/\/secure.gravatar.com\/avatar\/551e4c93b0c751a4cffeca2d8b43357c?s=16&#038;d=monsterid&#038;r=g' srcset='https:\/\/secure.gravatar.com\/avatar\/551e4c93b0c751a4cffeca2d8b43357c?s=32&#038;d=monsterid&#038;r=g 2x' class='avatar avatar-16 photo' height='16' width='16' loading='lazy' decoding='async'\/><\/a><a href=\"https:\/\/profiles.wordpress.org\/kiwimeg\/\" class=\"reviewer-name\">kiwimeg<\/a> on <span class=\"review-date\">September 16, 2019<\/span>\t\t\t<\/p>\n\t\t<\/div>\n\t<\/div>\n\t<div class=\"review-body\">Thanks so much. This worked exactly as expected.<\/div>\n<\/div>\n"},"download_link":"https:\/\/downloads.wordpress.org\/plugin\/acf-archive.1.0.6.zip","screenshots":{"1":{"src":"https:\/\/ps.w.org\/acf-archive\/assets\/screenshot-1.png?rev=1962923","caption":"New Archive ACF rule under ACF rules"},"2":{"src":"https:\/\/ps.w.org\/acf-archive\/assets\/screenshot-2.png?rev=1962923","caption":"ACF Archive menu page under each custom post type with archive enabled."}},"tags":{"acf":"acf","acf-archive":"acf archive","advanced-custom-fields":"advanced custom fields"},"versions":{"1.0.1":"https:\/\/downloads.wordpress.org\/plugin\/acf-archive.1.0.1.zip","1.0.2":"https:\/\/downloads.wordpress.org\/plugin\/acf-archive.1.0.2.zip","1.0.3":"https:\/\/downloads.wordpress.org\/plugin\/acf-archive.1.0.3.zip","1.0.4":"https:\/\/downloads.wordpress.org\/plugin\/acf-archive.1.0.4.zip","1.0.5":"https:\/\/downloads.wordpress.org\/plugin\/acf-archive.1.0.5.zip","1.0.6":"https:\/\/downloads.wordpress.org\/plugin\/acf-archive.1.0.6.zip","trunk":"https:\/\/downloads.wordpress.org\/plugin\/acf-archive.zip"},"donate_link":"","banners":[]}