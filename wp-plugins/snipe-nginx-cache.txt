{"name":"Cache Sniper for Nginx","slug":"snipe-nginx-cache","version":"1.0.4.2","author":"Thorn Technologies LLC","author_profile":"https:\/\/profiles.wordpress.org\/ekaterir\/","contributors":{"ekaterir":{"profile":"https:\/\/profiles.wordpress.org\/ekaterir\/","avatar":"https:\/\/secure.gravatar.com\/avatar\/e288a8202cf3b381aa60e3eff737888b?s=96&d=monsterid&r=g","display_name":"ekaterir"},"robertchen617":{"profile":"https:\/\/profiles.wordpress.org\/robertchen617\/","avatar":"https:\/\/secure.gravatar.com\/avatar\/03f342f0914b933602c9ea4080451f1f?s=96&d=monsterid&r=g","display_name":"robertchen617"},"djrusk":{"profile":"https:\/\/profiles.wordpress.org\/djrusk\/","avatar":"https:\/\/secure.gravatar.com\/avatar\/efcffce147f3e079abe1a05d3f09ad87?s=96&d=monsterid&r=g","display_name":"djrusk"}},"requires":"4.6","tested":"4.9.24","requires_php":false,"requires_plugins":[],"rating":96,"ratings":{"5":4,"4":1,"3":0,"2":0,"1":0},"num_ratings":5,"support_threads":1,"support_threads_resolved":0,"active_installs":200,"last_updated":"2018-09-27 3:11pm GMT","added":"2017-07-25","homepage":"","sections":{"description":"<p>Nginx has a built-in FastCGI cache, which acts as a reverse proxy cache at the webserver layer. The Cache Sniper for Nginx WordPress plugin lets you purge this cache from within WordPress. Here are some key features:<\/p>\n<ul>\n<li>Purge the entire cache from the menu bar<\/li>\n<li>Manually purge individual pages<\/li>\n<li>Manually purge homepage cache<\/li>\n<li>Configure pages to purge automatically when updated<\/li>\n<li>Configure pages to purge automatically when comments are created\/updated\/deleted.<\/li>\n<li>Configure Settings via WP CLI<\/li>\n<\/ul>\n<p>For more info on using this plugin with a pre-configured Nginx stack running in AWS, follow this <a href=\"https:\/\/aws.amazon.com\/marketplace\/pp\/B0771QTMR5\" rel=\"nofollow ugc\">link<\/a>.<\/p>\n","installation":"<ol>\n<li>Upload the plugin files to the <code>\/wp-content\/plugins\/snipe-nginx-cache<\/code> directory, or install the plugin through the WordPress plugins screen directly.<\/li>\n<li>Activate the plugin through the <strong>Plugins<\/strong> screen in WordPress<\/li>\n<li>Go to <strong>Tools<\/strong> -&gt; <strong>Nginx Cache Sniper<\/strong> to configure the plugin<\/li>\n<\/ol>\n<p><strong>Usage<\/strong><\/p>\n<ol>\n<li>Clear the entire cache by going to the <strong>Nginx Cache Sniper<\/strong> drop-down in the top <strong>Menu bar<\/strong>, and click <strong>Clear entire cache<\/strong>.<\/li>\n<li>Clear the homepage cache by going to the <strong>Nginx Cache Sniper<\/strong> drop-down in the top <strong>Menu bar<\/strong>, and click <strong>Clear homepage cache<\/strong>.<\/li>\n<li>To clear the cache for an individual Post (or Page), click on <strong>Clear cache for this page<\/strong>, either on the <strong>All Posts<\/strong> or Post detail pages.<\/li>\n<li>When configured to do so, you can purge the cache for a Post (or Page) by updating it.<\/li>\n<li>When configured to do so, you can purge the cache for a Post (or Page) where a comment was created\/updated\/deleted.<\/li>\n<\/ol>\n<p><strong>Configuration Settings<\/strong><\/p>\n<p>Cache Sniper for Nginx comes with the following settings:<\/p>\n<ol>\n<li><strong>Cache Path<\/strong>: This is the filesystem path where the FastCGI cache is stored on-disk. Set this to the value you used for <code>fastcgi_cache_path<\/code> from your Nginx configuration. <strong>Note<\/strong>: Nginx needs read\/write access to this location.<\/li>\n<li><strong>Cache Levels<\/strong>: This sets up a directory hierarchy under the cache path. Set this to the value you used for <code>levels<\/code> from your Nginx configuration. For example: <code>fastcgi_cache_path \/var\/lib\/nginx\/cache levels=1:2 keys_zone=CACHE:100m;<\/code><\/li>\n<li><strong>Automatically clear page cache on content update<\/strong>: Check this box to automatically purge the cache when a page is updated. This only purges the updated page &#8212; it does not clear the entire cache.<\/li>\n<li><strong>Automatically clear page cache on comment<\/strong>: Check this box to automatically purge the cache when a comment is created\/updated\/deleted. This only purges the cache of the page where the comment resides &#8212; it does not clear the entire cache.<\/li>\n<li><strong>Automatically clear homepage cache on content update<\/strong>: Check this box to automatically purge the homepage cache when a page is updated. This only purges the homepage &#8212; it does not clear the entire cache or the cache of the page where the content resides.<\/li>\n<li><strong>Automatically clear homepage cache on comment<\/strong>: Check this box to automatically purge the the homepage cache when a comment is created\/updated\/deleted. This only purges the cache of the homepage &#8212; it does not clear the entire cache or the cache of the page where the content resides.<\/li>\n<\/ol>\n<p><strong>Configuration via WP CLI<\/strong><\/p>\n<p>For those scripting out infrastructure, Cache Sniper for Nginx can be configured via WP CLI:<\/p>\n<ol>\n<li><code>wp plugin activate cache-sniper-nginx<\/code><\/li>\n<li><code>wp option add nginx_cache_sniper_path '\/var\/lib\/nginx\/cache'<\/code><\/li>\n<li><code>wp option add nginx_cache_sniper_levels '1:2'<\/code><\/li>\n<li><code>wp option add nginx_cache_sniper_auto_clear 1<\/code><\/li>\n<li><code>wp option add nginx_cache_sniper_auto_clear_comments 1<\/code><\/li>\n<li><code>wp option add nginx_cache_sniper_auto_clear_home_page 1<\/code><\/li>\n<li><code>wp option add nginx_cache_sniper_auto_clear_home_page_comments 1<\/code><\/li>\n<\/ol>\n<p>For instructions on setting up FastCGI caching with Nginx, refer to this <a href=\"https:\/\/www.digitalocean.com\/community\/tutorials\/how-to-setup-fastcgi-caching-with-nginx-on-your-vps\" rel=\"nofollow ugc\">Digital Ocean blog post<\/a>.<\/p>\n<p><strong>Server-side configuration<\/strong><\/p>\n<p>There are a few things that need to be configured on the server in order for this plugin to work.<\/p>\n<ol>\n<li>Be sure to set <code>$scheme$request_method$host$request_uri<\/code> for <code>fastcgi_cache_key<\/code>. For example: <code>fastcgi_cache_key  \"$scheme$request_method$host$request_uri\";<\/code><\/li>\n<li>The Linux account running Nginx needs read-write permissions to the cache path on disk.<\/li>\n<\/ol>\n","faq":"\n<h4>Do I need to recompile Nginx to purge the cache?<\/h4>\n<p>\n<p>No. Cache Sniper for Nginx works without relying on any custom Nginx modules. This means you can easily keep Nginx updated with your normal package manager.<\/p>\n<\/p>\n\n","changelog":"<h4>1.0.4.2<\/h4>\n<ul>\n<li>Fixed a bug that caused errors on post\/page delete.<\/li>\n<\/ul>\n<h4>1.0.4.1<\/h4>\n<ul>\n<li>Fixed a bug that caused wp_insert_comment to fail.<\/li>\n<\/ul>\n<h4>1.0.4<\/h4>\n<ul>\n<li>Automatically clearing the homepage cache on content create\/update\/delete.<\/li>\n<li>Manually clearing the homepage cache from the admin menu bar.<\/li>\n<li>Clearing post\/page cache when inserting a comment into the database using <code>wp_insert_comment<\/code>.<\/li>\n<\/ul>\n<h4>1.0.3.1<\/h4>\n<ul>\n<li>Clearing entire cache removes contents of the fastcgi_cache_path folder without deleting the folder itself.<\/li>\n<\/ul>\n<h4>1.0.3<\/h4>\n<ul>\n<li>Added cache levels configuration.<\/li>\n<\/ul>\n<h4>1.0.2<\/h4>\n<ul>\n<li>Fixed a bug that caused cache_actions.js file not to load.<\/li>\n<\/ul>\n<h4>1.0.1<\/h4>\n<ul>\n<li>Added support for page cache invalidation on comment create\/udpate\/delete.<\/li>\n<\/ul>\n<h4>1.0.0<\/h4>\n<ul>\n<li>First version, hope you like it!<\/li>\n<\/ul>\n","screenshots":"<ol><li><a href=\"https:\/\/ps.w.org\/snipe-nginx-cache\/assets\/screenshot-1.png?rev=1943311\"><img src=\"https:\/\/ps.w.org\/snipe-nginx-cache\/assets\/screenshot-1.png?rev=1943311\" alt=\"screenshot-1.png\"><\/a><p>screenshot-1.png<\/p><\/li><\/ol>","reviews":"<div class=\"review\">\n\t<div class=\"review-head\">\n\t\t<div class=\"reviewer-info\">\n\t\t\t<div class=\"review-title-section\">\n\t\t\t\t<h4 class=\"review-title\">with out nginx purge cache module works!<\/h4>\n\t\t\t\t<div class=\"star-rating\">\n\t\t\t\t<div class=\"wporg-ratings\" aria-label=\"4 out of 5 stars\" data-title-template=\"%s out of 5 stars\" data-rating=\"4\" style=\"color:#ffb900;\"><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-empty\"><\/span><\/div>\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t\t<p class=\"reviewer\">\n\t\t\t\tBy <a href=\"https:\/\/profiles.wordpress.org\/anas_xrt\/\"><img alt='' src='https:\/\/secure.gravatar.com\/avatar\/a04b078d63fded0105c584ac1fe6884e?s=16&#038;d=monsterid&#038;r=g' srcset='https:\/\/secure.gravatar.com\/avatar\/a04b078d63fded0105c584ac1fe6884e?s=32&#038;d=monsterid&#038;r=g 2x' class='avatar avatar-16 photo' height='16' width='16' loading='lazy' decoding='async'\/><\/a><a href=\"https:\/\/profiles.wordpress.org\/anas_xrt\/\" class=\"reviewer-name\">anas_xrt<\/a> on <span class=\"review-date\">January 26, 2020<\/span>\t\t\t<\/p>\n\t\t<\/div>\n\t<\/div>\n\t<div class=\"review-body\">I have try many popular plugins like rtcamp with nginx_purge_cache module or Nginx cache by Till Kr\u00fcss. I found this is the combination of both popular plugin. I can define cache path which work with file system (I use bindfs mount for cache path).\n\nI really like to have this plugin improve as following\n1. should be able to define 2 multiple cache path, I use both proxy_cache and fastcgi_cache and right now I only select 1 path to purge cache key.\n\n2. should allow debug log to easier make sure the cache key was purge.\n3. the admin bar purge button should be fix, I can't see the response action after click to purge, event I can see the cache key was clear in file system. \n4. add purge cache page on current page that preview, instead of need to click update in admin page\/post editor \n\nwith 4 mentioned above, the plugin would be the best compare to other\n\nRegards,<\/div>\n<\/div>\n<div class=\"review\">\n\t<div class=\"review-head\">\n\t\t<div class=\"reviewer-info\">\n\t\t\t<div class=\"review-title-section\">\n\t\t\t\t<h4 class=\"review-title\">Simple and efficient<\/h4>\n\t\t\t\t<div class=\"star-rating\">\n\t\t\t\t<div class=\"wporg-ratings\" aria-label=\"5 out of 5 stars\" data-title-template=\"%s out of 5 stars\" data-rating=\"5\" style=\"color:#ffb900;\"><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><\/div>\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t\t<p class=\"reviewer\">\n\t\t\t\tBy <a href=\"https:\/\/profiles.wordpress.org\/tsbega\/\"><img alt='' src='https:\/\/secure.gravatar.com\/avatar\/d1ccba1791802508645962223a5bc1b8?s=16&#038;d=monsterid&#038;r=g' srcset='https:\/\/secure.gravatar.com\/avatar\/d1ccba1791802508645962223a5bc1b8?s=32&#038;d=monsterid&#038;r=g 2x' class='avatar avatar-16 photo' height='16' width='16' loading='lazy' decoding='async'\/><\/a><a href=\"https:\/\/profiles.wordpress.org\/tsbega\/\" class=\"reviewer-name\">Tiago Bega <small>(tsbega)<\/small><\/a> on <span class=\"review-date\">March 26, 2019<\/span>\t\t\t<\/p>\n\t\t<\/div>\n\t<\/div>\n\t<div class=\"review-body\">Simple and efficient\nBest option to use with fastcgi_cache<\/div>\n<\/div>\n<div class=\"review\">\n\t<div class=\"review-head\">\n\t\t<div class=\"reviewer-info\">\n\t\t\t<div class=\"review-title-section\">\n\t\t\t\t<h4 class=\"review-title\">Works well<\/h4>\n\t\t\t\t<div class=\"star-rating\">\n\t\t\t\t<div class=\"wporg-ratings\" aria-label=\"5 out of 5 stars\" data-title-template=\"%s out of 5 stars\" data-rating=\"5\" style=\"color:#ffb900;\"><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><\/div>\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t\t<p class=\"reviewer\">\n\t\t\t\tBy <a href=\"https:\/\/profiles.wordpress.org\/denzel1982\/\"><img alt='' src='https:\/\/secure.gravatar.com\/avatar\/a2638cfdf19e33dc23b1f3c417e16ccc?s=16&#038;d=monsterid&#038;r=g' srcset='https:\/\/secure.gravatar.com\/avatar\/a2638cfdf19e33dc23b1f3c417e16ccc?s=32&#038;d=monsterid&#038;r=g 2x' class='avatar avatar-16 photo' height='16' width='16' loading='lazy' decoding='async'\/><\/a><a href=\"https:\/\/profiles.wordpress.org\/denzel1982\/\" class=\"reviewer-name\">denzel1982<\/a> on <span class=\"review-date\">December 6, 2018<\/span>\t\t\t<\/p>\n\t\t<\/div>\n\t<\/div>\n\t<div class=\"review-body\">Works well for me, unlike Nginx Helper plugin<\/div>\n<\/div>\n<div class=\"review\">\n\t<div class=\"review-head\">\n\t\t<div class=\"reviewer-info\">\n\t\t\t<div class=\"review-title-section\">\n\t\t\t\t<h4 class=\"review-title\">Working Fine on WP FEMP<\/h4>\n\t\t\t\t<div class=\"star-rating\">\n\t\t\t\t<div class=\"wporg-ratings\" aria-label=\"5 out of 5 stars\" data-title-template=\"%s out of 5 stars\" data-rating=\"5\" style=\"color:#ffb900;\"><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><\/div>\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t\t<p class=\"reviewer\">\n\t\t\t\tBy <a href=\"https:\/\/profiles.wordpress.org\/yosbeda\/\"><img alt='' src='https:\/\/secure.gravatar.com\/avatar\/e5d554ea746478eceab64d3328598cf9?s=16&#038;d=monsterid&#038;r=g' srcset='https:\/\/secure.gravatar.com\/avatar\/e5d554ea746478eceab64d3328598cf9?s=32&#038;d=monsterid&#038;r=g 2x' class='avatar avatar-16 photo' height='16' width='16' loading='lazy' decoding='async'\/><\/a><a href=\"https:\/\/profiles.wordpress.org\/yosbeda\/\" class=\"reviewer-name\">yosbeda<\/a> on <span class=\"review-date\">August 15, 2018<\/span>\t\t\t<\/p>\n\t\t<\/div>\n\t<\/div>\n\t<div class=\"review-body\">Although this plugin doesn't have many feature like Nginx Helper and Nginx Cache Controller, Cache Sniper for Nginx was the only plugin which working properly on my server setup (FEMP-FreeBSD 11.2-RELEASE, Nginx 1.15.2, MariaDB 10.2.16, and PHP 7.2.7). Great job, developers!<\/div>\n<\/div>\n<div class=\"review\">\n\t<div class=\"review-head\">\n\t\t<div class=\"reviewer-info\">\n\t\t\t<div class=\"review-title-section\">\n\t\t\t\t<h4 class=\"review-title\">Thank you for this plugin<\/h4>\n\t\t\t\t<div class=\"star-rating\">\n\t\t\t\t<div class=\"wporg-ratings\" aria-label=\"5 out of 5 stars\" data-title-template=\"%s out of 5 stars\" data-rating=\"5\" style=\"color:#ffb900;\"><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><span class=\"star dashicons dashicons-star-filled\"><\/span><\/div>\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t\t<p class=\"reviewer\">\n\t\t\t\tBy <a href=\"https:\/\/profiles.wordpress.org\/wpdreamer\/\"><img alt='' src='https:\/\/secure.gravatar.com\/avatar\/705e269d82b2b395790a0c815d464587?s=16&#038;d=monsterid&#038;r=g' srcset='https:\/\/secure.gravatar.com\/avatar\/705e269d82b2b395790a0c815d464587?s=32&#038;d=monsterid&#038;r=g 2x' class='avatar avatar-16 photo' height='16' width='16' loading='lazy' decoding='async'\/><\/a><a href=\"https:\/\/profiles.wordpress.org\/wpdreamer\/\" class=\"reviewer-name\">nene <small>(wpdreamer)<\/small><\/a> on <span class=\"review-date\">October 29, 2017<\/span>\t\t\t<\/p>\n\t\t<\/div>\n\t<\/div>\n\t<div class=\"review-body\">Really good to see new plugin like this, will follow it closely. \n\nThank you!<\/div>\n<\/div>\n"},"download_link":"https:\/\/downloads.wordpress.org\/plugin\/snipe-nginx-cache.1.0.4.2.zip","screenshots":{"1":{"src":"https:\/\/ps.w.org\/snipe-nginx-cache\/assets\/screenshot-1.png?rev=1943311","caption":"screenshot-1.png"}},"tags":{"aws":"aws","cache":"cache","caching":"caching","invalidation":"invalidation","nginx":"nginx"},"versions":{"1.0.1":"https:\/\/downloads.wordpress.org\/plugin\/snipe-nginx-cache.1.0.1.zip","1.0.2":"https:\/\/downloads.wordpress.org\/plugin\/snipe-nginx-cache.1.0.2.zip","1.0.3":"https:\/\/downloads.wordpress.org\/plugin\/snipe-nginx-cache.1.0.3.zip","1.0.3.1":"https:\/\/downloads.wordpress.org\/plugin\/snipe-nginx-cache.1.0.3.1.zip","1.0.4":"https:\/\/downloads.wordpress.org\/plugin\/snipe-nginx-cache.1.0.4.zip","1.0.4.1":"https:\/\/downloads.wordpress.org\/plugin\/snipe-nginx-cache.1.0.4.1.zip","1.0.4.2":"https:\/\/downloads.wordpress.org\/plugin\/snipe-nginx-cache.1.0.4.2.zip","trunk":"https:\/\/downloads.wordpress.org\/plugin\/snipe-nginx-cache.zip"},"donate_link":"","banners":[]}